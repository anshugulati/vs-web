/* eslint-disable */
import*as e from"/scripts/aem.js";var t,a,n,r,i,s={2838:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>Q});var r=a(6965);const e="hello-member/carts/mine/bonusVouchers",i="hello-member/carts/mine/memberOffers",s="guest-carts/{{CART_ID}}/estimate-shipping-methods",o="carts/mine/estimate-shipping-methods",l="checkoutcomupapi/getTokenList",c="guest-carts/{{CART_ID}}/getCart",d="carts/mine/getCart",u="deliverymatrix/address-locations/search",m="hello-member/customers/coupons",p="carts/mine/associate-cart",_="carts/mine/tamara-payment-availability",b="guestcarts/{{CART_ID}}/tamara-payment-availability",h="tamara/config",E="verifyotp/identifierNo/{{identifierNo}}/otp/{{otp}}/type/link",y="customers/mine/set-loyalty-card",g="apc/set-loyalty-card",f="customers/apc-search/{{searchedType}}/{{inputValue}}",A="apc/{{identifierNo}}/simulate/sales",v="apc/guest/simulate/sales",T="guest/apc-points-balance/identifierNo/{{identifierNo}}",C="sendotp/identifierNo/{{identifierNo}}/type/link",w="apc/{{identifierNo}}/redeem-points",S="guest/{{identifierNo}}/redeem-points",N="customers/apc-points-balance/{{customerId}}",I="customers/apcCustomerData/{{customerId}}",x="customers/apc-status-update",P="customers",O="integration/customer/token",R=await(0,r.EP)("cart_shipping_address"),D=await(0,r.EP)("cart_extension_attributes"),L=await(0,r.EP)("cart_items"),k=await(0,r.EP)("cart_prices"),M=await(0,r.EP)("cart_payment_methods"),B=await(0,r.EP)("cart_extension_attribute_mobile_number"),U=`\n    {\n        id\n        total_quantity\n        ${D}\n        ${L}\n        ${k}\n        ${M}\n    }\n`,$=await(0,r.EP)("tabby_user"),H=await(0,r.EP)("customer_order"),G=await(0,r.EP)("product_details"),V=await(0,r.EP)("checkoutcom_config"),Y=await(0,r.EP)("digital_cart_extension_attribute"),F=`\n    {\n        id\n        total_quantity\n        ${Y}\n        ${M}\n    }\n`,q=await(0,r.EP)("tamara_availability"),j=await(0,r.EP)("tabby_config"),K=`query ( $cartId: String ) {\n    Commerce_TabbyConfig (input: {cartId: $cartId}){\n      ${$}\n    }\n}`,W=`query {\n    Commerce_TabbyConfig {\n        ${$}\n    }\n}`,J=await(0,r.EP)("cart_promo_labels"),Q={API_URI_MEMBER_BONUS_VOUCHERS:e,API_URI_MEMBER_OFFERS:i,API_URI_GUESTS_ESTIMATE_SHIPPING_METHODS:s,API_URI_LOGGED_IN_ESTIMATE_SHIPPING_METHODS:o,API_URI_GET_TOKEN_LIST:l,API_URI_GUESTS_GET_CART:c,API_URI_LOGGED_IN_GET_CART:d,API_URI_ADDRESS_LOCATIONS_SEARCH:u,API_URI_CUSTOMER_COUPONS:m,API_URI_ASSOCIATE_CARTS:p,API_URI_TAMARA_AVAILABILITY_CUSTOMER:_,API_URI_TAMARA_AVAILABILITY_GUEST:b,API_URI_GET_TAMARA_CONFIG:h,API_URI_VERIFY_OTP_AURA:E,API_URI_SET_LOYALTY_AURA:y,API_URI_GET_ENROLLED_AURA:f,API_URI_SIMULATE_SALES_AURA:A,API_URI_APC_PTS_BALANCE_AURA:T,API_URI_GET_REDEEM_PTS_AURA:C,API_URI_REMOVE_REDEEM_PTS_AURA:w,API_URI_REMOVE_REDEEM_PTS_AURA_GUEST:S,API_URI_GUEST_CART_SIMILATE_SALES_AURA:v,API_URI_APC_CUSTOMER_BALANCE_POINTS:N,API_URI_APC_CUSTOMER_AURA_DATA:I,API_URI_REGISTER_CUSTOMER:P,API_URI_LOGIN_CUSTOMER:O,API_URI_APC_STATUS_UPDATE:x,API_URI_SET_LOYALTY_AURA_GUEST:g,CART_QUERY__SHIPPING_ADDRESSES:R,CART_QUERY__EXTENSION_ATTRIBUTE:D,CART_QUERY__ITEMS:L,CART_QUERY__PRICES:k,CART_QUERY__PAYMENTS_METHODS:M,CART_QUERY__MOBILE_NUMBER_VERIFIED:B,CART_QUERY:U,CHECKOUTCOM_CONFIG_QUERY:V,CUSTOMER_ORDER_QUERY:H,GET_PRODUCTS:G,DIGITAL_CART_QUERY:F,DIGITAL_QUERY__EXTENSION_ATTRIBUTE:Y,TABBY_CONFIG:j,TABBY_USER:$,GUEST_TABBY_USER:K,TAMARA_AVAILABILITY:q,TABBY_LOGGED_IN_USER:W,CART_QUERY__TOTALS:"\nextension_attributes {\n    totals{\n            base_grand_total\n            base_subtotal\n            subtotal_incl_tax\n            base_discount_amount\n            total_segments{\n                code\n                title\n                value\n            }\n            shipping_incl_tax\n            coupon_code\n            extension_attributes {\n                coupon_label\n                reward_points_balance\n                reward_currency_amount\n                base_reward_currency_amount\n                is_hm_applied_voucher_removed\n                is_all_items_excluded_for_adv_card\n                hps_redeemed_amount\n                hps_current_balance\n                hps_redemption_type\n            }\n            items {\n                extension_attributes {\n                    adv_card_applicable\n                }\n            }\n        }\n}",PROMOTION_DYNAMIC_LABEL:J};n()}catch(e){n(e)}}),1)},7146:(e,t,a)=>{a.d(t,{OA:()=>r,RY:()=>s,Tw:()=>i});var n=a(2554);const r=async(e,t)=>{let a={};try{const r=await(0,n.Ay)(e,t,"GET","","V2");a=r?.response}catch(e){}return a},i=async(e,t)=>{let a={};try{const r=await(0,n.Ay)(e,t,"GET","","V2");a=r?.response}catch(e){}return a},s=async(e,t)=>{let a={};try{const r=await(0,n.Ay)(e,t,"GET","","V2");a=r?.response}catch(e){}return a}},6791:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=async(e,t,a)=>{const n=a?i.A.API_URI_LOGGED_IN_ESTIMATE_SHIPPING_METHODS:i.A.API_URI_GUESTS_ESTIMATE_SHIPPING_METHODS.replace("{{CART_ID}}",t);let s=null;try{const t=await(0,r.Ay)(n,a,"POST",e);s=t?.response?.filter((e=>"click_and_collect"!==e.method_code))}catch(e){}return s};n()}catch(e){n(e)}}))},8042:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=(e,t)=>{const a=`?searchCriteria[filter_groups][0][filters][0][field]=attribute_id&searchCriteria[filter_groups][0][filters][0][value]=${t}&searchCriteria[filter_groups][0][filters][0][condition_type]=eq&searchCriteria[filter_groups][0][filters][1][field]=country_id&searchCriteria[filter_groups][0][filters][1][value]=${e}&searchCriteria[filter_groups][0][filters][1][condition_type]=eq&searchCriteria[filter_groups][0][filters][2][field]=status&searchCriteria[filter_groups][0][filters][2][value]=1&searchCriteria[filter_groups][0][filters][2][condition_type]=eq`;return(0,r.Ay)(`${i.A.API_URI_ADDRESS_LOCATIONS_SEARCH}${a}`,!0)};n()}catch(e){n(e)}}))},7651:(e,t,a)=>{a(2554)},2052:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=async e=>{const t=`query ($incrementId: String!) {\n    commerce_customer {\n      orders(filter: { number: { eq: $incrementId } }) ${i.A.CUSTOMER_ORDER_QUERY}\n    }\n  }`;try{return await(0,r.HA)(t,{incrementId:e},!0)}catch(e){throw console.error("Error fetching customer orders:",e),e}};n()}catch(e){n(e)}}))},1871:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(2554),r=a(8800);const i=async e=>{const t={storeViewCode:await(0,r.Ct)("commerce-store-view-code")},a=`${await(0,r.Ct)("appbuilder-guest-order-details")}/${t?.storeViewCode}`,i=await(0,n.qB)(a,t,"GET",e);return i?.response}},1275:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(2554);const r=()=>(0,n.Ay)("customers/me",!0)},3653:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=async e=>{const t=`query ($sku: String) {\n    commerce_products(filter: { sku: { eq: $sku } }) ${i.A.GET_PRODUCTS}\n  }`;let a=[];return await(0,r.HA)(t,{sku:e},!0).then((e=>{a=e})),a};n()}catch(e){n(e)}}))},6831:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(2554);const r=e=>{const t=`?searchCriteria[filter_groups][0][filters][0][field]=status&searchCriteria[filter_groups][0][filters][0][value]=1&searchCriteria[filter_groups][1][filters][0][field]=store_code&searchCriteria[filter_groups][1][filters][0][value]=${e}`;return(0,n.Ay)(`storeLocator/search${t}`,!0)}},9876:(e,t,a)=>{a(2554),a(7443)},5368:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=e=>(0,r.Ay)(i.A.API_URI_LOGIN_CUSTOMER,!0,"POST",e);n()}catch(e){n(e)}}))},7828:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>o});var r=a(2554),i=a(2838),s=e([i]);i=(s.then?(await s)():s)[0];const o=e=>(0,r.Ay)(i.A.API_URI_REGISTER_CUSTOMER,!0,"POST",e);n()}catch(e){n(e)}}))},1628:(e,t,a)=>{a(2554)},6:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(2554),r=a(8584),i=a(7443);const s=async(e,t,a,s=!1,o=!1)=>{const l=(0,i.j)()??t,c=!(0,i.j)()&&a,d=o||!c?`guest-carts/${l}/updateCart`:"carts/mine/updateCart";let u={};try{const t=await(0,n.Ay)(d,c,"POST",e,"V1",s);s&&404===t?.response?.status&&((0,r.y)(),window.location.href=`/${document.documentElement?.lang||"en"}/cart`),u=t?.response,window.dispatchEvent(new CustomEvent("updateMiniCart"))}catch(e){}return u}},2291:(e,t,a)=>{a(2554),a(8800)},8818:(e,t,a)=>{a.a(e,(async(e,t)=>{try{a(6540);var n=a(9944),r=a(1332),i=(a(8800),a(2288),a(7091),e([n,r]));[n,r]=i.then?(await i)():i;t()}catch(e){t(e)}}))},9187:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{_:()=>c});a(6540),a(7091),a(8800),a(7651);var r=a(8818),i=a(9944),s=a(1332),o=(a(243),a(3275),a(6),a(9876),a(2838)),l=(a(1628),a(173),a(850),a(2291),a(7443),e([r,i,s,o]));[r,i,s,o]=l.then?(await l)():l;const c=e=>{let t,a=[];const n=[];return e.forEach(((r,i)=>{a.length||(a.push(r.label),t=r.value),t===r.value?a.splice(1,1,r.label):(n.push({label:a.join(" - "),value:t}),a=[],a.push(r.label),t=r.value),i===e.length-1&&n.push({label:a.join(" - "),value:t})})),n};n()}catch(e){n(e)}}))},173:(e,t,a)=>{a(6540)},850:(e,t,a)=>{a(6540)},9944:(e,t,a)=>{a.a(e,(async(e,t)=>{try{a(6540),a(243);var n=a(1332),r=(a(419),e([n]));n=(r.then?(await r)():r)[0];t()}catch(e){t(e)}}))},243:(e,t,a)=>{a(8800)},5463:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>h});var r=a(6540),i=a(1332),s=a(3275),o=a(2768),l=a(8166),c=a(2052),d=a(6463),u=a(8800),m=a(4817),p=a(1871),_=e([i,l,c,m]);function b(){const{activeProgressStep:e,isLoggedIn:t,content:a}=(0,r.useContext)(i.Ay),[n,_]=(0,r.useState)(null),[b,h]=(0,r.useState)(!0),[E,y]=(0,r.useState)(),[g,f]=(0,r.useState)(!1),[A,v]=(0,r.useState)(null),[T,C]=(0,r.useState)(!0),[w,S]=(0,r.useState)(null),[N,I]=(0,r.useState)(!0),[x,P]=(0,r.useState)(!1);(0,r.useEffect)((()=>{E||x||(async()=>{h(!0);try{let e=new URL(window.location.href).searchParams.get("oid");if(e){e=e.replace(/}$/,"");const a=atob(e),n=JSON.parse(a),r=String(n.reserveOrderId),i=String(n.token);let s,o,l;if(y(r),S(i),!t&&i)try{const e=await(0,p.A)(i);if(e?.error)return I(!1),void(window.location.href=`/${document.documentElement.lang}`);_(e?.data),({increment_id:s,base_grand_total:o,items:l}=e?.data.items?.[0]||{})}catch(e){console.error("Error generating guest order token:",e)}else{const e=await(0,c.A)(r);!e?.errors&&e?.response?.data?.commerce_customer?.orders?.commerce_rest_details||P(!0),_(e?.response?.data?.commerce_customer?.orders?.commerce_rest_details),({increment_id:s,base_grand_total:o,items:l}=e?.response?.data?.commerce_customer?.orders?.commerce_rest_details?.items?.[0]||{})}window.dispatchEvent(new CustomEvent("react:fireTargetCall",{detail:{type:"orderConfirmation",payload:{purchaseId:s,totalPrice:o,products:l}}}))}}catch(e){console.error("Error fetching orders:",e)}finally{h(!1)}})()}),[E,N]),(0,r.useEffect)((()=>{let e;return b||(e=setTimeout((()=>{document.querySelector(".personalization-dialog")||f(!0)}),5e3)),()=>{e&&clearTimeout(e)}}),[b]),(0,r.useEffect)((()=>{!async function(){try{const e=await(0,u.Ct)("cart-feedback-form-url");v(e)}catch(e){console.error("Error:",e)}}()}),[]);const O=(0,r.useCallback)((()=>{f(!1)}),[]);(0,r.useEffect)((()=>{C(!!E)}),[E]);return r.createElement(m.A,{showProgressBar:T,shouldDisableAllSteps:!0},b?r.createElement(s.A,null):!E||x?r.createElement("div",{className:"pagenotrequested",dangerouslySetInnerHTML:{__html:a.errorPage??""}}):r.createElement(r.Fragment,null,r.createElement("div",{className:"cart__checkout__blocks"},e===o.A.PROGRESS_BAR_STEP_CONFIRMATION&&r.createElement(l.A,{content:a,completeOrderData:n})),A&&g&&r.createElement(d.A,{closeModal:O,formUrl:A})))}[i,l,c,m]=_.then?(await _)():_;const h=b;n()}catch(E){n(E)}}))},8291:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>y});var r=a(6540),i=a(7091),s=a(2953),o=a(3642),l=a(1332),c=a(7828),d=a(5368),u=a(220),m=a(6873),p=a(2058),_=a(2838),b=a(7146),h=e([l,c,d,m,p,_]);function E({customerDetails:e}){const{configs:t,content:a,placeholders:n,isLoggedIn:h,auraAccountData:E,shouldEnableProductCardV2:y}=(0,r.useContext)(l.Ay),[g,...f]=a?.accountRegistration??[],[A,v]=(0,r.useState)(""),[T,C]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!0),[N,I]=(0,r.useState)(!1),[x,P]=(0,r.useState)(!1),[O,R]=(0,r.useState)(""),[D,L]=(0,r.useState)(!1),[k,M]=(0,r.useState)(!1),[B,U]=(0,r.useState)(!1),[$,H]=(0,r.useState)(!0),[G,V]=(0,r.useState)(!0),[Y,F]=(0,r.useState)(!1),[q,j]=(0,r.useState)(!1),K=(0,r.useMemo)((()=>D&&k&&B&&$)),W=t["commerce-store-view-code"],J=t["commerce-login-cookie-expiry-days"]||100,Q="true"===t["is-aura-enabled"];(0,r.useEffect)((()=>{window.addEventListener("react:handleQuickEnrollResponse",(e=>{I(!!e)}),{once:!0})}),[]);const z=(0,r.useMemo)((()=>{let e=n.completeRegistration;return G&&(e=E.apc_identifier_number?n.registerLinkAuraCtaText:n.orderConfirmationAccountRegistrationCta),e}),[G,E]),X=e=>{R("");const t=e.target.value;v(t),(e=>{L(e.length>=8),M(/[\W_]/.test(e)),U(/\d/.test(e)),H(!/\s/.test(e))})(t)},Z=e=>{j(!0),window.dispatchEvent(new CustomEvent("react:handleLoginMobile",{detail:{message:{mobile:e}}})),window.addEventListener("react:loginMobileResponse",(e=>{F(e.detail.response),e.detail.response?window.dispatchEvent(new CustomEvent("react:showToastNotification",{detail:{message:n.otpSentTextToast}})):window.dispatchEvent(new CustomEvent("react:showPageErrorMessage",{detail:{message:n.otpMaxLimitReached}})),j(!1)}),{once:!0})},ee=async()=>{if(K){P(!0);const t=(await(0,o._Z)()).find((e=>e.code===W)),a=t?.website_id||1,n=t?.id||1,r={customer:{email:e.email,firstname:e.firstName,lastname:e.lastName,websiteId:a,storeId:n,custom_attributes:[{attribute_code:"channel",value:"web"},{attribute_code:"phone_number",value:`${e.phoneNumber}`},{attribute_code:"communication_preference",value:"email"}],extension_attributes:{is_subscribed:w,is_verified:"Y"}},password:A},i=await(0,c.A)(r);if(i?.response?.id?await te(e.email,A,i.response.id):i?.response?.message&&window.dispatchEvent(new CustomEvent("react:showToastNotification",{detail:{message:i.response.message}})),P(!1),G)if(E.apc_identifier_number){const e=_.A.API_URI_GET_REDEEM_PTS_AURA?.replace("{{identifierNo}}",E.apc_identifier_number),t=await(0,b.Tw)(e,h);F(t)}else Z(e.phoneNumber)}else R("Please follow the below mentioned password criteria")},te=async(e,t,a)=>{const n={username:e,password:t},r=await(0,d.A)(n);r?.response&&(sessionStorage.setItem("userId",a),(0,u.TV)("auth_user_token",r.response,J)),G||I(!0)};return r.createElement("div",{className:"order-confirmation__account-registration__wrapper"},N?r.createElement(r.Fragment,null,r.createElement("div",{className:"account-registration__success-header"},r.createElement("span",null,n.orderConfirmationAccountRegistrationSuccessHeading),r.createElement("span",null,n.orderConfirmationAccountRegistrationSuccessSubHeading)),r.createElement("div",{className:"account-registration__success-message"},n.orderConfirmationAccountRegistrationSuccessInfo)):Y?r.createElement(p.A,{customerDetails:e,sendOtp:Z,isSendingOtp:q}):r.createElement(r.Fragment,null,r.createElement("div",{className:"account-registration__header"},r.createElement("span",{className:"account-registration__title",dangerouslySetInnerHTML:{__html:g?.innerHTML}}),r.createElement("div",{className:"account-registration__offers__wrapper"},f?.map((e=>r.createElement("div",{className:"account-registration__offer",dangerouslySetInnerHTML:{__html:e?.innerHTML}}))))),r.createElement("div",{className:"account-registration__body"},r.createElement(s.A,{label:n?.orderConfirmationPasswordPlaceholder,type:T?"text":"password",value:A,icon:"eye",onIconClick:()=>C((e=>!e)),onChange:X,errorMessage:O}),r.createElement("div",{className:"account-registration__password-validations"},r.createElement("div",{className:"account-registration__password-validation "+(A&&D?"valid":"invalid")},r.createElement(i.A,{name:"tick-green",className:"account-registration__password-validation-icon icon-valid"}),r.createElement(i.A,{name:"pagination",className:"account-registration__password-validation-icon icon-default"}),r.createElement("span",{className:"account-registration__password-validation-text"},n.orderConfirmationValidationsLength)),r.createElement("div",{className:"account-registration__password-validation "+(A&&k?"valid":"invalid")},r.createElement(i.A,{name:"tick-green",className:"account-registration__password-validation-icon icon-valid"}),r.createElement(i.A,{name:"pagination",className:"account-registration__password-validation-icon icon-default"}),r.createElement("span",{className:"account-registration__password-validation-text"},n.orderConfirmationValidationsSpecialChar)),r.createElement("div",{className:"account-registration__password-validation "+(A&&B?"valid":"invalid")},r.createElement(i.A,{name:"tick-green",className:"account-registration__password-validation-icon icon-valid"}),r.createElement(i.A,{name:"pagination",className:"account-registration__password-validation-icon icon-default"}),r.createElement("span",{className:"account-registration__password-validation-text"},n.orderConfirmationValidationsNumber)),r.createElement("div",{className:"account-registration__password-validation "+(A&&$?"valid":"invalid")},r.createElement(i.A,{name:"tick-green",className:"account-registration__password-validation-icon icon-valid"}),r.createElement(i.A,{name:"pagination",className:"account-registration__password-validation-icon icon-default"}),r.createElement("span",{className:"account-registration__password-validation-text"},n.orderConfirmationValidationsSpaces,".")))),!h&&y&&(2!==E.apc_link||3!==E.apc_link)&&Q&&r.createElement(m.A,{customerDetails:e,auraChecked:G,setAuraChecked:V,isShowHideBorder:!1}),r.createElement("div",{className:"account-registration__confirmation__wrapper"},r.createElement("input",{type:"checkbox",id:"account-registration-confirmation",name:"account-registration-confirmation",checked:w,onChange:()=>S((e=>!e))}),r.createElement("label",{className:"account-registration__confirmation-text",htmlFor:"account-registration-confirmation"}," ",n.orderConfirmationOffersAndDealsConfirmationLabel)),r.createElement("div",{className:"account-registration__actions"},r.createElement("button",{onClick:ee,className:x?"loader":""},x?"":z))))}[l,c,d,m,p,_]=h.then?(await h)():h;const y=E;n()}catch(g){n(g)}}))},6873:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>u});var r=a(6540),i=a(7091),s=a(1332),o=a(2838),l=a(7146),c=e([s,o]);function d({orderItems:e,customerDetails:t,auraChecked:a,setAuraChecked:n,isShowHideBorder:c=!0}){const{placeholders:d,isLoggedIn:u,configs:m,setAuraAccountData:p}=(0,r.useContext)(s.Ay),[_,b]=(0,r.useState)({}),[h,E]=(0,r.useState)(!1),[y,g]=(0,r.useState)({}),f="true"===m["clm-downtime"],A=m.currency||"AED",v=Number(e?.auraEarnedPoints)||0,T=Number(e?.auraRedeemedPoints)||0,C=Number(e?.auraSavedPoints)||0,{auraBannerUserMessage:w="",auraJoinNow:S="",accountToLink:N="",auraPoints:I="",cartAuraClmDowtimeText:x="",auraEarned:P="",auraSaved:O="",auraRedeemed:R="",auraCreditText:D="",auraMobileNumber:L="",linkAuraLabel:k="",collectAuraPointsLabel:M="",pleaseLinkAuraLabel:B="",auraGuestNotLinkedText:U=""}=d;async function $(){const e=JSON.parse(localStorage.getItem("aura_common_data"))||{};E(Number(e.aura_link)),b({apc_identifier_number:e.aura_membership,name:w.replace("X",e.aura_user_first_name)})}(0,r.useEffect)((()=>{$()}),[]),(0,r.useEffect)((()=>{(async()=>{if(t?.email){const e=o.A.API_URI_GET_ENROLLED_AURA.replace("{{searchedType}}","email").replace("{{inputValue}}",t.email),a=await(0,l.OA)(e,u);a.apc_identifier_number&&(p(a),a.message=U.replace("X",a.apc_identifier_number),g(a))}})()}),[t?.email]);const H=e=>{"join"===e?window.dispatchEvent(new CustomEvent("react:handleJoinAura")):window.dispatchEvent(new CustomEvent("react:handleLinkAura")),window.addEventListener("linkAuraSuccess",(()=>{$()}),{once:!0})};return r.createElement("div",{className:"cart-aura-details-container "+(c?"border-false":"")},r.createElement("div",{className:"aura-header"},f&&r.createElement("div",{className:"info info--flex"},r.createElement(i.A,{name:"auraicon",className:"icon icon--small"}),r.createElement("p",{className:"aura-offline"},x)),!f&&r.createElement(r.Fragment,null,r.createElement("div",{className:"info"},!u&&r.createElement("input",{type:"checkbox",checked:a,onChange:()=>n((e=>!e))}),r.createElement(i.A,{name:"cart-aura",className:"icon"})),r.createElement("div",{className:"points-details"},T>0&&2===h&&r.createElement("div",{className:"box"},R," ",r.createElement("span",null,T)," ",I),C>0&&r.createElement("div",{className:"box"},O," ",A," ",r.createElement("span",null,C)),v>0&&r.createElement("div",{className:"box"},P," ",r.createElement("span",null,v)," ",I)))),!f&&r.createElement("div",{className:"aura-body"},!u&&!_?.apc_identifier_number&&r.createElement("div",{className:"guest-aura-info"},r.createElement("div",{className:"guest-aura-info-otp-text info"}," ",y.message?y.message:d.joinAuraText),r.createElement("div",{className:"info"}," ",d.joinAuraOtpText," "),r.createElement("div",null," ",r.createElement("div",{className:"guest-aura-mobile-number"},L," ",r.createElement("span",{className:"guest-aura-info-otp-text"},t?.phoneNumber)))),_?.apc_identifier_number&&(2===h||3===h)&&v>0&&r.createElement("div",{className:"content"},D),(_?.apc_identifier_number&&1===h||!_?.apc_identifier_number&&(null===h||0===h))&&u&&r.createElement("div",{className:"content content--flex"},r.createElement("div",{className:"content-left"},r.createElement("div",{className:"aura-link-text"},r.createElement("strong",null,M),_?.apc_identifier_number&&B),_?.apc_identifier_number&&r.createElement("div",{className:"link-account-chip"},r.createElement("span",{className:"link-account-chip-label"},N),r.createElement("span",{className:"link-account-chip-value"},_.apc_identifier_number.match(/.{1,4}/g).join(" ")))),r.createElement("div",{className:"content-right"},r.createElement("div",{className:"links-container"},r.createElement("span",{onClick:()=>H("link")},k)),!_?.apc_identifier_number&&r.createElement("div",{className:"links-container"},r.createElement("span",{onClick:()=>H("join")},S))))))}[s,o]=c.then?(await c)():c;const u=d;n()}catch(m){n(m)}}))},2058:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>m});var r=a(6540),i=a(7415),s=a(1332),o=a(7091),l=a(2838),c=a(7146),d=a(3275),u=e([s,l]);function m({customerDetails:e,sendOtp:t,isSendingOtp:a}){const{placeholders:n,auraAccountData:u,isLoggedIn:m}=(0,r.useContext)(s.Ay),[p,_]=(0,r.useState)(""),[b,h]=(0,r.useState)("");return r.createElement("div",{id:"otp-verify-form"},r.createElement("div",null,n.otpSentText," ",e.phoneNumber),r.createElement("input",{type:"number",id:"otp-input",name:"otp-input",value:p,placeholder:n.otpPlaceholder,required:!0,maxLength:6,onChange:function(e){const t=e.target.value.slice(0,6);_(t),h("")},onKeyDown:e=>"e"!==e.key&&"E"!==e.key,autoComplete:"one-time-code"}),b&&r.createElement("div",{className:"otp-error"},r.createElement(o.A,{name:"info-small-error",className:"info-error-icon"}),r.createElement("span",null,b)),r.createElement("button",{onClick:async function(){if(p){if(u.apc_identifier_number){const e=l.A.API_URI_VERIFY_OTP_AURA?.replace("{{identifierNo}}",u.apc_identifier_number).replace("{{otp}}",p),t=await(0,c.RY)(e,m);t?window.dispatchEvent(new CustomEvent("react:handleQuickEnrollResponse",{response:t})):h(n.otpWrongError)}else window.dispatchEvent(new CustomEvent("react:handleQuickEnroll",{detail:{otp:p,isVerified:"Y",...e}}));window.addEventListener("react:otpVerificationFailed",(()=>{h(n.otpWrongError)}),{once:!0})}else h(n.otpEmptyError)}},n.verifyButtonText),r.createElement("div",{className:"otp-timer-text-wrapper"},n.codResendOtpText," ",r.createElement("div",{className:"cod-text-action"},a?r.createElement("div",null,r.createElement(d.A,null),"Resending"):r.createElement(i.A,{key:e.phoneNumber,seconds:+n.codOtpResendTimeInSeconds,minutes:0,resend:()=>t(e.phoneNumber),text:"Resend in",ButtonText:r.createElement("span",{className:"otp-timer-text"},n.codResendOtpCta," ",r.createElement(o.A,{name:"chevron-right-blue"}))}))))}[s,l]=u.then?(await u)():u,n()}catch(p){n(p)}}))},6463:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(6540),r=a(9364);const i=function({closeModal:e,formUrl:t}){return(0,n.useEffect)((()=>{document.querySelector(".feedback-form-header")&&(0,r.decorateIcons)(document.querySelector(".feedback-form-header"))}),[]),n.createElement("div",{className:"modal"},n.createElement("div",{className:"modal-content"},n.createElement("div",{className:"feedback-form-header"},n.createElement("span",{className:"icon icon-close",role:"button",tabIndex:"0","aria-label":"Close",onClick:e,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||e()}})),n.createElement("div",{className:"feedback-form-body"},n.createElement("iframe",{src:t,width:"100%",height:"784px",loading:"lazy",title:"Order Confirmation Feedback form"}))))}},6523:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>b});var r=a(6540),i=a(1332),s=a(3653),o=a(2315),l=a(419),c=a(1587),d=a(7091),u=a(2768),m=a(220),p=e([i,s,o]);function _({orderInfo:e,content:t}){const[a,n]=(0,r.useState)([]),{placeholders:p,isLoggedIn:_,configs:b,selectedCollectionStoreForCheckout:h}=(0,r.useContext)(i.Ay),[E,y]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[A,v]=(0,r.useState)(0),T=e,C=T?.items?.[0],w=T?.items?.[0]?.items||[],S="true"===b?.["oredr-confirmation-order-summary-v2"],N="true"===b?.["enable-subtotal-after-discount"];w.sort(((e,t)=>e.sku!==t.sku?t.item_id-e.item_id:0));const I=w,x=T?.items?.[0]?.total_qty_ordered,P=t?.checkoutOrderSummaryTitle?.replace("{{COUNT}}",x),O=a?.filter((e=>e?.sku===u.A.GIFT_CARD_TOPUP)),R=T?.items?.[0]?.extension_attributes?.shipping_assignments?.[0]?.shipping?.method,D="string"==typeof R&&R.includes("click_and_collect_click_and_collect"),L=t?.paymentMethods,k=T?.items?.[0]?.payment?.method,M=L?.find((e=>e.querySelectorAll("tr > td")?.[0]?.innerText===k)),B=(M?.querySelectorAll("tr > td")[1].innerText,T?.items?.[0]?.items?.every((e=>-1!=e?.extension_attributes?.product_options?.[0]?.indexOf("hps_giftcard_recipient_email")))),U=(0,l.A)({price:T?.items?.[0]?.subtotal_incl_tax}),$=(0,l.A)({price:T?.items?.[0]?.discount_amount}),H=T?.items?.[0]?.discount_amount,G=T?.items?.[0]?.base_grand_total,V=(0,l.A)({price:G}),Y=T?.items?.[0]?.extension_attributes?.hps_redeemed_amount,F=(0,l.A)({price:Y}),q=(0,l.A)({price:T?.items?.[0]?.shipping_incl_tax}),j=T?.items?.[0]?.shipping_incl_tax,K=(0,l.A)({price:T?.items?.[0]?.extension_attributes?.surcharge_incl_tax}),W=T?.items?.[0]?.extension_attributes?.surcharge_incl_tax,J=T?.items?.[0]?.extension_attributes?.shipping_assignments?.[0]?.shipping?.method,Q="string"==typeof J&&J.includes("click_and_collect_click_and_collect"),z=(T?.items?.[0]?.extension_attributes?.applied_taxes??[]).reduce(((e,t)=>e+(S?t.amount:t.amount.value??0)),0),X=T?.items?.[0]?.extension_attributes?.aura_payment_value,Z=(0,l.A)({price:X}),ee=(0,l.A)({price:A}),te=T?.items?.[0]?.base_grand_total,ae=Math.max(te-X,0),ne=(0,l.A)({price:ae}),re=p?.cashondeliveryServicechargeTooltiptext,ie=re?.replace("{{codcharge}}",K),se=T?.items?.[0]?.extension_attributes?.hm_voucher_discount,oe=(0,l.A)({price:se}),le=T?.items?.[0]?.extension_attributes?.applied_hm_voucher_codes,ce=le?.split(",")?.length,de=p?.bounsVoucherCountTitle?.replace("{{count}}",ce),ue=T?.items?.[0]?.subtotal_incl_tax+T?.items?.[0]?.discount_amount,me=(0,l.A)({price:ue}),pe=(0,r.useMemo)((()=>{const e=T?.items?.[0]?.extension_attributes,t=!!e?.applied_hm_offer_code,a="advantage_card"===T?.items?.[0]?.coupon_code;let n=`<div className="applied-discounts-title">${p.discountTooltipMessageApplied}</div>`;return t&&(n=`<div className="applied-hm-discounts-title">${p.discountTooltipMessageMemberDiscount}</div>`),a&&(n+=`<div class="promotion-label"><strong>${p.discountTooltipMessageAdvantageCardDiscount}</strong></div>`),n}),[T]),_e=(0,r.useMemo)((()=>{const e=[],t=new Set;return I.forEach((a=>{if(!t.has(a.sku)||1==a?.is_virtual){t.add(a.sku);const n=a.additional_data?JSON.parse(a.additional_data):{},r=n?.member_price||null;e.push({...a,member_price:r})}})),e}),[I]);function be(e,t){let a=null;return Object.keys(e).forEach((n=>{if(!a)if(e[n]===t)a=e;else if("object"==typeof e[n]&&null!==e[n]){const r=be(e[n],t);r&&(a=r)}})),a}return(0,r.useEffect)((()=>{const e=T?.items?.[0]?.extension_attributes;e?.hps_redeemed_amount>0?(f(!0),v(G-e.hps_redeemed_amount)):(f(!1),v(0))}),[T?.items?.[0]?.extension_attributes]),(0,r.useEffect)((()=>{!async function(){const e=await Promise.all(_e.map((async e=>{const t=await async function(e){try{const t=await(0,s.A)(e),a=t?.response?.data?.commerce_products?.items?.[0];if(a){a?.assets_cart&&(a.assets_cart=JSON.parse(a.assets_cart));const t=a?.variants?.find((t=>t?.product?.sku?.includes(e)));t&&(t?.product?.dynamicAttributes&&(t.product.dynamicAttributes=JSON.parse(t.product.dynamicAttributes)),a.variants=t)}return a}catch(t){return console.error(`Error fetching product details for SKU ${e}:`,t),null}}(e.sku);return t})));n(e);const t=e.filter((e=>e));n(t);const a=await Promise.all(t.map((async(e,t)=>{const a=e?.gtm_attributes?.category?.split("/")||[],n=JSON.parse(localStorage.getItem("selectedProductLocal")||null),r=n?.[e?.gtm_attributes?.id]?.insightsQueryId||null,i=n?.[e?.gtm_attributes?.id]?.gtmProductList||null,{items:s}=await(0,m.w5)(),o=be(s,a[0]),l=_e[t]?.member_price||null,c=_e[t]||{};return{item_id:e?.gtm_attributes?.id,item_name:e?.gtm_attributes?.name,affiliation:"Online Store",index:t,item_list_id:o?.id||null,item_list_name:i||null,item_brand:e?.variants?.product?.dynamicAttributes?.product_brand_gtm||e?.gtm_attributes?.brand,item_category:e?.gtm_attributes?.category,item_category2:a[0]||null,item_category3:a[1]||null,item_category4:a[2]||null,item_category5:a[3]||null,item_variant:e?.variants?.product?.sku,price:e?.variants?.product?.gtm_attributes?.price||e?.gtm_attributes?.price,item_color:e?.variants?.product?.dynamicAttributes?.color_gtm||e?.variants?.product?.color_label,item_size:e?.variants?.product?.dynamicAttributes?.size_gtm||e?.variants?.product?.dynamicAttributes?.size_label,returnEligibility:"1"===e?.variants?.product?.is_returnable?"yes":"no",quantity:c?.qty_ordered||null,"data-insights-query-id":r||null,price_type:l?"member price yes":"member price no",bundle_type:e?.gtm_attributes?.dimension2||null,discount_type:e?.gtm_attributes?.dimension3||null,discount:e?.price_range?.maximum_price?.discount?.amount_off||null}})));let r=null;r=_?T?.items?.[0]?.extension_attributes?.apc_accrued_points>0?"aura":"hello":null;const i=[],o=[];"cashondelivery"===T?.items?.[0]?.payment?.method&&i.push("Cash On Delivery"),"checkout_com_upapi"===T?.items?.[0]?.payment?.method&&i.push("Credit / Debit Card"),T?.items?.[0]?.extension_attributes?.aura_payment_value&&i.push("Aura Payment"),T?.items?.[0]?.extension_attributes?.hps_redeemed_amount&&i.push("eGift Card");const l=!!T?.items?.[0]?.extension_attributes?.topup_recipientemail?"topup":T?.items?.[0]?.extension_attributes?.hps_redeemed_amount?Number(T?.items?.[0]?.base_grand_total)-Number(T?.items?.[0]?.extension_attributes?.hps_redeemed_amount)==0?"full":"partial":"no",c=T?.items?.[0]?.extension_attributes?.payment_additional_info?.find((e=>"hps_redemption"===e.key))?.value,d=c?"linked"===JSON.parse(c)?.card_type?"linked":"guest":null,u=T?.items?.[0]?.extension_attributes?.applied_hm_offer_code;u&&o.push(u);const p=T?.items?.[0]?.extension_attributes?.applied_hm_voucher_codes;p&&o.push(p);const b=T?.items?.[0]?.coupon_code;b&&o.push(b),window.dispatchEvent(new CustomEvent("react:datalayerEvent",{detail:{type:"sendAuraDetails",payload:{aura_tier:null,aura_enrollmentStatus:null,aura_Status:null,aura_balStatus:null}}})),window.dispatchEvent(new CustomEvent("react:datalayerEvent",{detail:{type:"GenericDLPurchaseSpecific",payload:{loyaltyType:r||null,aura_balRedemption:Number(T?.items?.[0]?.extension_attributes?.apc_redeemed_points)>0?"redeemed":"not redeemed",aura_pointsUsed:Number(T?.items?.[0]?.extension_attributes?.apc_redeemed_points),aura_pointsEarned:Number(T?.items?.[0]?.extension_attributes?.apc_accrued_points),cartTotalValue:Number(T?.items?.[0]?.base_grand_total),cartItemsCount:Number(T?.items?.[0]?.total_qty_ordered),deliveryOption:D?"Click & Collect":"Home Delivery",deliveryType:T?.items?.[0]?.shipping_description,deliveryCity:T?.items?.[0]?.extension_attributes?.shipping_assignments?.[0]?.shipping?.address?.city,deliveryArea:T?.items?.[0]?.extension_attributes?.shipping_assignments?.[0]?.shipping?.address?.street?.[0],paymentOption:i.join(),isEgiftCard:l,redeem_egift_card_value:T?.items?.[0]?.extension_attributes?.hps_redeemed_amount,egift_redeem_type:d,member_offerType:o.join("_"),with_delivery_schedule:"no",isAdvantageCard:"advantage_card"===T?.items?.[0]?.coupon_code?"True":"False",is_physical_egiftcard:1===T?.items?.[0]?.extension_attributes?.is_physical_egc_redeemed?"yes":"no"}}})),window.dispatchEvent(new CustomEvent("react:datalayerEvent",{detail:{type:"PurchaseView",payload:{discountAmount:T?.items?.[0]?.discount_amount,currency:T?.items?.[0]?.base_currency_code,transaction_id:T?.items?.[0]?.increment_id,value:T?.items?.[0]?.base_grand_total,tax:z,shipping:j,shipping_tier:D?"Click & Collect":"Home Delivery",login_method:_?"Logged In":"Guest Login",coupon:T?.items?.[0]?.coupon_code||null,payment_type:i.join(),delivery_option:D?"Click & Collect":"Home Delivery",loyaltyType:r||null,member_offerType:T?.items?.[0]?.extension_attributes?.applied_hm_offer_code||"",storeLocation:h?.address?.find((e=>"street"===e?.code))?.value||null,items:a}}})),y(!1)}()}),[_e]),r.createElement("div",null,r.createElement("span",{className:"orderSummaryCountTitle"},P),r.createElement("div",{className:"confirmed-order-items-list "+(E?"ordersectionheight":"")},a.map(((e,t)=>r.createElement(o.A,{key:`item-${e?.sku}-${t}`,product:e,index:t,uniqueProducts:_e,completeOrderData:C})))),r.createElement("div",{className:"confirmed-order-summary"},S&&r.createElement("div",{className:"order-summary-two-title"},p.orderSummaryTitle),U&&r.createElement("div",{className:"complete-bill-line"},r.createElement("span",null,p?.subTotalLabel),r.createElement("span",null,U)),0!==H&&r.createElement("div",{className:"complete-bill-line discount-color"},r.createElement("span",null,p?.discountsLabel,!S&&r.createElement(c.A,{content:pe},r.createElement(d.A,{name:"info-blue",className:"discount-icon"}))),r.createElement("span",null,$)),ce>0&&r.createElement("div",{className:"complete-bill-line"},r.createElement("span",null,de),r.createElement("span",null,oe)),!Q&&!O?.length&&!B&&r.createElement("div",{className:"complete-bill-line"},r.createElement("span",null,p?.deliveryLabel),r.createElement("span",null,j>0?q:p?.shippingMethodFreeLabel)),0!==W&&r.createElement("div",{className:"complete-bill-line"},r.createElement("span",null,p?.cashOnDeliveryLabel,!S&&r.createElement(c.A,{content:ie},r.createElement(d.A,{name:"info-blue",className:"discount-icon"}))),r.createElement("span",null,K)),N&&me&&r.createElement("div",{className:"complete-bill-line sub-total-after-discount"},r.createElement("span",null,p?.subTotalAfterDiscountText),r.createElement("span",null,me)),V&&r.createElement("div",{className:"complete-bill-line order-total"},r.createElement("span",null,p?.orderTotalLabel),r.createElement("span",null,V)),g&&r.createElement(r.Fragment,null,r.createElement("div",{className:"complete-bill-line egift-redeem"},r.createElement("span",{className:"egift-redeem__label"},p.redeemPayOrderSummary),r.createElement("span",null," ",F," ")),r.createElement("div",{className:"complete-bill-line total-amount-paid"},r.createElement("span",{className:"egift-redeem__label"},p.amountpaid),r.createElement("span",null," ",ee," "))),r.createElement("div",{className:"complete-bill-line deliveryandvats"},!R&&r.createElement("span",{className:""},p.excludingDelivery),z>0&&r.createElement("span",null,p.inclusiveVat)),X>0&&r.createElement("div",{className:"complete-bill-line"},r.createElement("span",null,p?.paidWithAuraLabel),r.createElement("span",null,Z)),X>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:"complete-bill-line balancepayable"},r.createElement("span",null,p?.amountpaid),r.createElement("span",null,ne)),r.createElement("div",{className:"complete-bill-line deliveryandvats aurapointsvat"},!R&&r.createElement("span",{className:""},p.excludingDelivery),z>0&&r.createElement("span",null,p.inclusiveVat)))))}[i,s,o]=p.then?(await p)():p;const b=_;n()}catch(h){n(h)}}))},673:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>f});var r=a(6540),i=a(1211),s=a(1332),o=a(8800),l=a(8042),c=a(6831),d=a(9187),u=a(1587),m=a(2768),p=a(6873),_=e([s,l,d,p]);function b({isExpanded:e,onClick:t}){return r.createElement("span",{role:"button",tabIndex:0,"aria-expanded":e,"aria-label":e?"Collapse":"Expand",onClick:t,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t())},style:{cursor:"pointer"}},e?r.createElement("span",{className:"accordian-chevron-up"}):r.createElement("span",{className:"accordian-chevron-down"}))}function h({label:e,value:t,isAccordion:a=!1,onClick:n,isExpanded:i}){const s=i?"summary-item expanded-br":"summary-item";return r.createElement("div",{className:s,style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.createElement("span",null,e),a?r.createElement(b,{onClick:n,isExpanded:i}):r.createElement("span",null,t))}function E({label:e,name:t,value:a}){return r.createElement("div",{className:"summary-item",style:{display:"flex",justifyContent:"space-between"}},r.createElement("span",null,e),r.createElement("span",{className:"accordian-content"},r.createElement("span",{className:"name"},t),r.createElement("span",null,a)))}function y({label:e,name:t,value:a,StorePhoneNumber:n,combineHours:i,latitude:s,longitude:o,getDirecttion:l}){return r.createElement("div",{className:"summary-item",style:{display:"flex",justifyContent:"space-between"}},r.createElement("span",null,e),r.createElement("span",{className:"accordian-content"},r.createElement("span",{className:"name"},t),r.createElement("span",null,a),r.createElement("span",null,n),i&&i.length>0&&r.createElement("span",{className:"open-for-hours"},i.map((e=>r.createElement("span",{key:e.label,className:"day-hours"},r.createElement("span",{className:"label"},e.label," "),r.createElement("span",{className:"value"},"(",e.value,")"))))),r.createElement("span",{className:"getDirection"},r.createElement("a",{href:`https://maps.google.com/?q=${s},${o}`,rel:"noopener noreferrer",target:"_blank"},l))))}function g({content:e,orderInfo:t,isOrderDetailExpanded:a,setIsOrderDetailExpanded:n,completeOrderData:_}){const{placeholders:b,configs:g,auraAccountData:f,shouldEnableProductCardV2:A,isLoggedIn:v}=(0,r.useContext)(s.Ay),T=t,[C,w]=(0,r.useState)(null),[S,N]=(0,r.useState)(null),[I,x]=(0,r.useState)(null),[P,O]=(0,r.useState)(null),[R,D]=(0,r.useState)(null),[L,k]=(0,r.useState)(null),[M,B]=(0,r.useState)(null),U="true"===g?.["oredr-confirmation-order-details-v2"],$="true"===g["is-aura-enabled"];(0,r.useEffect)((()=>{!async function(){try{const e=await(0,o.Ct)("country"),t=await(0,o.Ct)("cart-continue-to-shopping");w(e),B(t)}catch(e){console.error("Error:",e)}}()}),[]);const H=T?.items?.[0],G=H?.customer_email,V=H?.increment_id,Y=(e=>{const t=(0,i.l)(e);if(t){const e=`+${t.countryCallingCode}`;let a=t.formatNational().replace(/\s/g," - ");a=a.replace(/^0+/,"");return`${e} - ${a}`}})(H?.billing_address?.telephone),F=H?.extension_attributes?.topup_recipientemail,q=(()=>{let t="";try{const a=e?.paymentMethods,n=a?.find((e=>e.querySelectorAll("tr > td")?.[0]?.innerText===H?.payment?.method));if(H?.payment?.method===m.A.PAYMENT_METHOD_TABBY||H?.payment?.method===m.A.PAYMENT_METHOD_CODE_TAMARA){const e=()=>{let e="";if(H?.payment?.method===m.A.PAYMENT_METHOD_TABBY||H?.payment?.method===m.A.PAYMENT_METHOD_CODE_TAMARA){e=n?.querySelectorAll("tr > td")?.[1]?.innerHTML||""}return r.createElement("span",{dangerouslySetInnerHTML:{__html:e}})};t=e()}else t=n?.querySelectorAll("tr > td")?.[1]?.innerText||"";const i=H?.payment?.additional_information?.find((e=>-1!==e.indexOf("payment_method"))),s=i?JSON.parse(i):null;if(s.payment_method!==H?.payment?.method&&s.payment_method===m.A.hps_payment_method){const e=a?.find((e=>e.querySelectorAll("tr > td")?.[0]?.innerText===m.A.hps_payment_method)),n=e?.querySelectorAll("tr > td")[1].innerText;n&&(t+=` , ${n}`)}}catch(e){}return t})(),j=H?.total_qty_ordered,K=H?.shipping_description?.split(" - "),W=K?.[1],J=H?.extension_attributes?.shipping_assignments?.[0]?.shipping?.method,Q="string"==typeof J&&J.includes("click_and_collect_click_and_collect"),z=H?.extension_attributes?.payment_additional_info?.find((e=>"confirmation_id"===e.key||"knet_transaction_id"===e.key)),X=H?.extension_attributes?.payment_additional_info?.find((e=>"pun"===e.key||"knet_payment_id"===e.key)),Z=H?.extension_attributes?.payment_additional_info?.find((e=>"status_message"===e.key||"status"===e.key))??H?.extension_attributes?.payment_additional_info?.find((e=>"status"===e.key)),ee=H?.extension_attributes?.payment_additional_info?.find((e=>"reference_number"===e.key)),te=H?.extension_attributes?.payment_additional_info?.find((e=>"payment_expiry_time"===e.key)),ae=H?.extension_attributes?.shipping_assignments?.[0]?.shipping?.address?.country_id,ne=H?.extension_attributes?.shipping_assignments?.[0]?.shipping?.extension_attributes?.store_code,re=P?.sts_delivery_time_label,ie=H?.extension_attributes?.apc_accrued_points??0,se=H?.extension_attributes?.apc_redeemed_points??0,oe=H?.extension_attributes?.hm_accrued_points,le=(()=>{const e=[];return H?.items?.forEach((t=>{if(-1!=t?.extension_attributes?.product_options?.[0]?.indexOf("hps_giftcard_recipient_email")){const a=JSON.parse(t.extension_attributes.product_options[0]);a?.hps_giftcard_recipient_email&&e.push(a?.hps_giftcard_recipient_email)}})),e.length?{label:b.egiftCardTo??"",name:e.join(", "),value:b?.eGiftCardWillBeSentImmediately??""}:null})();(0,r.useEffect)((()=>{if(ae){(async()=>{try{const e=await(0,l.A)(ae,"address_city_segment");N(e?.response?.items?.[0]?.label),x(e?.response?.items?.[0]?.location_id)}catch(e){console.error("Error fetching city address locations:",e)}})()}}),[ae]),(0,r.useEffect)((()=>{if(ne){(async()=>{try{const e=await(0,c.A)(ne),t=(e?.response?.items||[]).find((e=>e.store_code===ne));O(t)}catch(e){console.error("Error fetching store locations:",e)}})()}}),[ne]);const ce=[],de=H?.extension_attributes?.shipping_assignments?.[0]?.shipping?.address,ue=de?.firstname,me=de?.lastname,pe=`${ue} ${me}`;de&&(de?.country_id&&ce.push(C),de?.street&&ce.push(de?.street?.[0]),de?.city&&ce.push(de?.city),de?.extension_attributes?.address_building_segment&&ce.push(de?.extension_attributes?.address_building_segment));const _e=[],be=H?.billing_address,he=H?.billing_address?.firstname,Ee=H?.billing_address?.lastname,ye=`${he} ${Ee}`;be&&(H?.billing_address?.country_id&&_e.push(C),H?.billing_address?.extension_attributes?.address_city_segment===I&&_e.push(S),H?.billing_address?.city&&_e.push(H?.billing_address?.city),H?.billing_address?.street&&_e.push(H?.billing_address?.street?.[0]),H?.billing_address?.extension_attributes?.address_building_segment&&_e.push(H?.billing_address?.extension_attributes?.address_building_segment)),(0,r.useEffect)((()=>{if(P){const e=(0,d._)(P?.store_hours);D(e)}}),[P]);const ge=P?.store_name,fe=P?.store_phone,Ae=P?.latitude,ve=P?.longitude,Te=P?.address?.find((e=>"area"===e.code))?.value;(0,r.useEffect)((()=>{if(ae){(async()=>{try{const e=await(0,l.A)(ae,"area"),t=e?.response?.items?.find((e=>e.location_id===Number(Te)));k(t?.label)}catch(e){console.error("Error fetching city address locations:",e)}})()}}),[ae,Te]);const Ce=[];P&&(P?.store_name&&Ce.push(ge),P?.address&&Ce.push(P?.address?.find((e=>"street"===e.code))?.value),P?.address&&Ce.push(P?.address?.find((e=>"address"===e.code))?.value),P?.address&&Ce.push(L),P?.address&&Ce.push(C));const we={email:G,orderNumber:V,transactionID:z?.value,paymentID:X?.value,resultCode:Z?.value,shippingCustomerName:pe,orderDetail:ce.join(", "),billingCustomerName:ye,billingAddress:_e.join(", "),mobileNumber:Y,paymentMethod:q,deliveryType:Q?b.clickCollect:b.homeDelivery,expectedDelivery:W,availableinstorewithin:`${W} (${re})`,storeAddress:Ce.join(", "),storeName:ge,storePhoneNumber:fe,latitude:Ae,longitude:ve,numberOfItems:j,earnedPoints:ie,redeemedPoint:se,topupReceipientEmail:F},[Se,Ne]=e?.paymentSummary?.[0]?.querySelectorAll("tr td")||{};return r.createElement("div",{className:"order-confirmation-summary"},!U&&r.createElement("div",{className:"order-confirmation-summary-main-title"},r.createElement("div",{className:"circle"}),r.createElement("span",null,b.orderSuccessfullyReceived)),r.createElement("div",{className:"order-confirmation-summary-main-content"},r.createElement("div",{className:"heading"},r.createElement("span",null,U?b.orderDetailsTitle:b.orderSummaryTitle)),r.createElement("div",{className:"summary"},H?.payment?.method===m.A.PAYMENT_METHOD_CODE_FAWRY&&r.createElement(r.Fragment,null,r.createElement("div",{className:"orderSummary-fawry-info-message"},r.createElement("span",{className:"message",dangerouslySetInnerHTML:{__html:Se?.innerHTML}}),r.createElement("span",{dangerouslySetInnerHTML:{__html:Ne?.innerHTML}})),r.createElement(h,{label:b.fawryAmountDue,value:`${H.order_currency_code} ${H.base_grand_total}`}),r.createElement(h,{label:b.fawryReferenceNumber,value:ee.value}),r.createElement(h,{label:b.fawryCompletePaymentBy,value:te.value})),!U&&G&&r.createElement(h,{label:b.confirmationSentTo,value:we.email}),V&&r.createElement(h,{label:b.orderNumber,value:we.orderNumber}),z&&r.createElement(h,{label:b.transactionId,value:we.transactionID}),X&&r.createElement(h,{label:b.paymentId,value:we.paymentID}),X&&Z&&r.createElement(h,{label:b.resultCode,value:we.resultCode}),r.createElement(h,{label:b.orderDetail,isAccordion:!0,onClick:()=>{n(!a)},isExpanded:a}),a&&r.createElement(r.Fragment,null,Q?r.createElement(y,{label:b.collectionStore,name:we.storeName,value:we.storeAddress,StorePhoneNumber:we.storePhoneNumber,combineHours:R,latitude:we.latitude,longitude:we.longitude,getDirecttion:b.getdirections}):we.orderDetail&&r.createElement(E,{label:b.deliveryTo,name:we.shippingCustomerName,value:we.orderDetail}),"cashondelivery"!==we.paymentMethod&&we.billingAddress&&r.createElement(E,{label:b.billingAddress,name:we.billingCustomerName,value:we.billingAddress}),le&&r.createElement(E,{label:le.label,name:le.name,value:le.value}),we?.topupReceipientEmail&&r.createElement(E,{label:b.reloadTo,name:we?.topupReceipientEmail,value:b?.giftCardTopupReloadAmountReflectLabel}),Q&&r.createElement(h,{label:b.collectionBy,value:we.shippingCustomerName}),Y&&r.createElement(h,{label:b.mobileNumber,value:we.mobileNumber}),we.paymentMethod&&r.createElement(h,{label:b.paymentMethod,value:we.paymentMethod}),J&&r.createElement(h,{label:b.deliveryType,value:we.deliveryType}),Q?r.createElement(h,{label:b.availableinstorewithin,value:we.availableinstorewithin}):we.expectedDelivery&&r.createElement(h,{label:b.expecteDeliveryWithin,value:we.expectedDelivery}),oe>0&&r.createElement("div",{className:"memberEarn"},r.createElement(h,{label:b?.memberEarn,value:oe})),we.numberOfItems&&r.createElement(h,{label:b.numberOfItems,value:we.numberOfItems})))),A&&$?r.createElement(r.Fragment,null,v||2===f.apc_link&&3===f.apc_link?r.createElement(p.A,{orderItems:{auraEarnedPoints:H?.extension_attributes?.apc_accrued_points,auraRedeemedPoints:H?.extension_attributes?.apc_redeemed_points,auraSavedPoints:H?.extension_attributes?.hps_redeemed_amount}}):null):r.createElement("div",{className:"order-confirmation-summary-main-content aurapoints"},ie>0&&r.createElement("div",{className:"summary earnedaurapoints"},r.createElement(h,{label:b.auraPointsEarned,value:we.earnedPoints}),r.createElement(u.A,{content:b.earnedAurapointTooltipText},r.createElement("span",{className:"auratooltipicon"},"?"))),ie>0&&r.createElement("div",{className:"download-text"},r.createElement("span",{dangerouslySetInnerHTML:{__html:e.downloadText}})),(se>0||se<0)&&r.createElement("div",{className:"summary redeemedaurapoints"},r.createElement(h,{label:b.auraPointsRedeemed,value:we.redeemedPoint}))),r.createElement("button",{type:"button",className:"continue-shooping",onClick:()=>{window.location.href=`/${document.documentElement.lang}${M}`}},e.continueShopping))}[s,l,d,p]=_.then?(await _)():_;const f=g;n()}catch(A){n(A)}}))},8166:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>p});var r=a(6540),i=a(673),s=a(6523),o=a(1332),l=a(1275),c=a(8291),d=a(6431),u=e([i,s,o,c,d]);function m({content:e,completeOrderData:t}){const{isLoggedIn:a,placeholders:n,configs:u}=(0,r.useContext)(o.Ay),m=t,[p,_]=(0,r.useState)(!1),[b,h]=(0,r.useState)(null),E=m?.items?.[0]?.customer_is_guest,y=m?.items?.[0]?.customer_email??null,g=b?.response?.email??null,f=y===g,A=!!m?.items?.[0]?.extension_attributes?.topup_recipientemail,v="true"===u?.["oredr-confirmation-order-summary-v2"],T="true"===u["show-order-confirmation-account-registration"],C="true"===u["oredr-confirmation-order-details-v2"];(0,r.useEffect)((()=>{if(a){async function e(){const e=await(0,l.A)();h(e)}e()}}),[]),(0,r.useEffect)((()=>{a&&E&&(window.location.href=`/${document.documentElement.lang}/user/account`),A||null!==y&&null!==g&&a&&!f&&(window.location.href=`/${document.documentElement.lang}/user/account`)}),[a,E,y,g,f,A]);const w=()=>{_(!0),setTimeout((()=>{window.print()}),0)};return r.createElement("div",{className:"order__confirmation-block"},!v&&r.createElement("div",{className:"oredr__confirmation-header"},r.createElement("span",{className:"thanks-message"},e.thanksMessageText),r.createElement("span",{className:"confirmation-message"},e.confirmationText),r.createElement("div",{className:"order-print-confirmation",onClick:w,onKeyUp:e=>"Enter"===e.key&&w(),role:"button",tabIndex:0},n.printConfirmationText)),r.createElement("div",{className:"order__confirmation-summary "+(v?"order-summary-version-two":"")},r.createElement("div",{className:"order__confirmation-details-info"},C&&r.createElement(d.A,{email:y}),T?r.createElement(c.A,{customerDetails:{email:y,firstName:m?.items?.[0]?.customer_firstname||m?.items?.[0]?.billing_address?.firstname,lastName:m?.items?.[0]?.customer_lastname||m?.items?.[0]?.billing_address?.lastname,phoneNumber:m?.items?.[0]?.billing_address?.telephone}}):null,r.createElement(i.A,{content:e,orderInfo:m,isOrderDetailExpanded:p,setIsOrderDetailExpanded:_})),r.createElement("div",{className:"order-summary-container"},r.createElement(s.A,{content:e,orderInfo:m}))))}[i,s,o,c,d]=u.then?(await u)():u;const p=m;n()}catch(_){n(_)}}))},2315:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>m});var r=a(6540),i=a(1332),s=a(419),o=a(8800),l=a(2768),c=a(7091),d=e([i]);function u({product:e,index:t,uniqueProducts:a,completeOrderData:n}){const{placeholders:d,configs:u,isLoggedIn:m}=(0,r.useContext)(i.Ay),p=a?.[t]?.price_incl_tax,_=(0,s.A)({price:p}),b=e?.sku===l.A.GIFT_CARD_TOPUP,h=-1!=a?.[t]?.extension_attributes?.product_options?.[0]?.indexOf("hps_giftcard_recipient_email"),E=h?JSON.parse(a?.[t]?.extension_attributes?.product_options?.[0]):null,y="true"===u?.["oredr-confirmation-order-summary-v2"],g=(0,s.A)({price:a[t]?.base_original_price??null}),f=a?.[t]?.extension_attributes?.member_price,A=(0,s.A)({price:a?.[t]?.extension_attributes?.member_price??null}),v="true"===u?.["enable-order-confirmation-product-extra-info"],T=(0,s.A)({price:e?.price_range?.maximum_price?.regular_price?.value??null});return r.createElement("div",{key:`item-${t}`,id:`item-${t}`,className:"ordered-product "+(0===p||.01===p?"freegiftwithpurchase":"")},b||h?r.createElement("div",{className:"product-image-topup"},r.createElement("img",{src:a?.[t]?.extension_attributes?.product_media?.[0]?.file,alt:e?.name})):r.createElement("div",{className:"product-image"},r.createElement("img",{src:y?JSON.parse(e?.media_gallery?.[0]?.styles)?.cart_thumbnail:e?.assets_cart?.[0]?.styles?.cart_thumbnail,alt:e?.name})),r.createElement("div",{className:"product-information "+(v?"product-information-v2":"")},r.createElement("div",null,r.createElement("span",null,b?r.createElement("span",{id:"product-title"},d?.egiftCardTopupLabel):h?r.createElement("span",{id:"product-title"},d?.egiftcardtext):r.createElement("a",{id:"product-title",href:`/${(0,o.mz)()}/${e?.url_key??""}`},e?.name)),v&&(()=>{const t=e?.form;return r.createElement("span",{className:"product-tag"},t)})(),0===p||.01===p?r.createElement("span",null," ",d.freeGiftPriceText):m&&f?r.createElement("div",{className:"product-info__price__discount"},r.createElement("div",{class:"price",style:{textDecoration:"line-through"}},g),r.createElement("div",{className:"member-price-wrapper"},r.createElement("span",{className:"member-price-container"},r.createElement("span",{className:"member-price-label"},_),r.createElement("span",{className:"member-price-label"},d.memberPriceLabel)))):r.createElement("div",{className:"product-info__price__discount "+(v&&_===T?"product-info__price__discount-v2":"")},r.createElement("span",{className:"price"},Number(f)!==Number(p)?_:g),v&&_!==T&&r.createElement("span",{className:"orignal-price-without-discount"},T),A&&r.createElement("span",{className:"member-price-container"},r.createElement("label",{className:"member-price-label"},v&&r.createElement(c.A,{name:"auraicon",className:"member-cart-aura-icon"}),A),r.createElement("label",{className:"member-price-label"},d.memberPriceLabel))),v&&r.createElement("div",{className:"promotion-labe-and-discount"},(()=>{const t=Math.round(e?.price_range?.maximum_price?.discount?.percent_off);return!t>0?null:r.createElement("span",null,"-",t,"%")})(),(()=>{const t=e?.promotions;return t?.length?r.createElement(r.Fragment,null,t.map((e=>r.createElement("span",{key:e},e.label)))):null})()),v&&(()=>{let t=0;const a=e?.sku;return n?.items?.map((e=>{if(e.sku===a){const a=e?.extension_attributes?.product_options?.[0]?JSON.parse(e.extension_attributes.product_options[0])?.info_buyRequest?.qty:0;t=m?Number(a).toFixed(0):e?.qty_ordered}})),0==t?null:r.createElement("span",{className:"ordered-quantity"},d.quantityText,":",t)})()),r.createElement("div",null,e?.variants?.product?.color_label&&r.createElement("span",null,d.productColorLabel,":"," ",e?.variants?.product?.color_label),e?.variants?.product?.dynamicAttributes?.size_label&&r.createElement("span",null,d.productSize,":"," ",e?.variants?.product?.dynamicAttributes?.size_label),h&&r.createElement(r.Fragment,null,e?.name&&r.createElement("span",null,d.styleText,":"," ",e?.name),E?.hps_giftcard_recipient_email&&r.createElement("span",null,d.sendToText,":"," ",E?.hps_giftcard_recipient_email),E?.hps_giftcard_message&&r.createElement("span",{className:"egift-message"},d.customMessageEgift,":"," ",E?.hps_giftcard_message))),n?.extension_attributes?.topup_card_number&&r.createElement("span",{className:"cardNumber"},d?.cardNumber," :  ",n?.extension_attributes?.topup_card_number)),(0===p||.01===p)&&r.createElement("span",{className:"freegiftwithpurchasetext"},d.freeGiftLabel))}i=(d.then?(await d)():d)[0];const m=u;n()}catch(p){n(p)}}))},6431:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>l});var r=a(6540),i=a(1332),s=e([i]);function o({email:e}){const{placeholders:t}=(0,r.useContext)(i.Ay);return r.createElement("div",{className:"order-details-version-two"},r.createElement("div",{className:"order-confirmation-message"},r.createElement("span",null,t.orderConfirmationThanksMeaage),r.createElement("span",null,t.orderConfirmationEmailText," ",r.createElement("span",null,e))))}i=(s.then?(await s)():s)[0];const l=o;n()}catch(c){n(c)}}))},2255:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>d});var r=a(6540),i=a(5338),s=a(5463),o=a(8172),l=a(1332),c=e([s,l]);async function d(e){const t=document.documentElement.lang,a=await(0,o.A)(t?`/${t}`:"","sheet=cart"),n=(0,i.H)(e),[c,d,u,m,p,_,b]=e.querySelectorAll(".order-confirmation > div"),h=c.querySelectorAll("p"),E=d.querySelectorAll("p"),y=u.querySelectorAll("p"),[...g]=b.querySelectorAll("p"),[,...f]=m?.querySelectorAll("div > table > tbody > tr")||[],[,...A]=p?.querySelectorAll("div > table > tbody > tr")||[];let v={thanksMessageText:"",confirmationText:"",printConfirmation:"",checkoutOrderSummaryTitle:"",downloadText:"",continueShopping:"",scaleSadIcon:"",scaleMehIcon:"",scaleSmileIcon:"",paymentMethods:""};const[T,C,w,S]=h,[N,I]=E,[x,P,O]=y;v={thanksMessageText:T?T.innerText:"",confirmationText:C?C.innerText:"",printConfirmation:w?w.innerText:"",checkoutOrderSummaryTitle:S?S.innerText:"",downloadText:N?N.innerHTML:"",continueShopping:I?I.innerText:"",scaleSadIcon:x?x.innerHTML:"",scaleMehIcon:P?P.innerHTML:"",scaleSmileIcon:O?O.innerHTML:"",paymentMethods:f,errorPage:_?.innerHTML??"",paymentSummary:A,accountRegistration:g},n.render(r.createElement(l.$g,{placeholders:{...l.O3,...a},content:v},r.createElement(s.A,{content:v})))}[s,l]=c.then?(await c)():c,n()}catch(u){n(u)}}))},1332:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{$g:()=>b,Ay:()=>h,O3:()=>m});var r=a(6540),i=a(220),s=a(8584),o=a(8800),l=a(2768),c=a(6),d=a(6791),u=e([d]);d=(u.then?(await u)():u)[0];const m={moveToFav:"Move to favorites",promoBtn:"Done",productArtNo:"Art. no.",productColorLabel:"Color label",productSize:"Size",excludingDelivery:"Excluding delivery",deleteSuccess:"The product has been removed from your basket",inclusiveVat:"Inclusive of VAT",deleteitempopupmessage:"Do you want to move this item to favorites?",itemmovetofavtext:"Yes, Move to favorites",itemremovetext:"No, remove it",emptyCartMessage:"Your shopping bag is empty",emptyCartFavMessage:"Here are some of our favorites",productPriceSaveLabel:"save",orderSummaryTitle:"Order Summary",subTotalLabel:"Subtotal",discountsLabel:"Discounts",orderTotalLabel:"Order Total",bagUpdatedSuccessLabel:"Your bag has been updated successfully",quantityNotAvailableLabel:"The requested quantity is not available",deliveryMethodTitle:"Delivery method",homeDelivery:"Home Delivery",clickCollect:"Click & Collect",bagLabel:"Bag",signInLabel:"Sign In",deliveryPaymentLabel:"Delivery & Payment",confirmationLabel:"Confirmation",promotionLabel:"Do you have a Promotional Code?",promotionInputPlaceholder:"Promo code",promotionApplyButtonLabel:"Apply",promotionAppliedButtonLabel:"Applied",promotionRequiredValidationErrorMessage:"Please enter a promotional code",promotionDiscountAndVouchersLabel:"Discounts & Vouchers",promotionInvalidCodeMessage:"Sorry, this code is invalid. Please enter a valid promotional code.",discountLabel:"Discount",bonusVouchers:"Bonus Vouchers",memberOffers:"Member Offers",clearAllText:"CLEAR ALL",applyOffersText:"APPLY OFFERS",applyVouchersText:"APPLY VOUCHERS",checkoutAsGuest:"Checkout as a Guest",backToBasket:"Back to basket",sepratorOrLabel:"OR",signInEmail:"sign in with email address",signInSocial:"sign in with social media",checkoutBtn:"Continue to Checkout",outOfStockContent:"This product is out of stock",outOfStockToast:"Sorry, one or more products in your bag are no longer available. Please review your bag in order to checkout securely.",shippingMethodFreeLabel:"FREE",changeDeliveryAddressCta:"Change",editDeliveryAdrressCta:"Edit",confirmationSentTo:"Confirmation sent to:",orderNumber:"Order Number:",transacioId:"Transaction ID:",paymentId:"Payment ID:",resultCode:"Result Code:",orderDetail:"Order Detail",deliveryTo:"Delivery to:",billingAddress:"Billing Address:",mobileNumber:"Mobile Number:",paymentMethod:"Payment Method:",deliveryType:"Delivery Type:",expecteDeliveryWithin:"Expected Delivery Within:",numberOfItems:"Number of Items:",auraPointsEarned:"Aura Points Earned:",homeDeliveryTitle:"Free delivery on all orders above QAR 199.",clickCollectTitle:"Order now & collect from store of your choice",clickCollectDisabled:"Collect your order in-store is unavailable",deliveryInformationTitle:"Delivery Information",deliveryInformationBtnText:"Please add your contact details and address ",deliveryInformationModalTitle:"Delivery Information",collectionStoreTitle:"Collection Store..",collectionStoreBtnText:"Select your preferred collection store..",styleText:"Style",sendToText:"Send to",customMessageEgift:"Message",egiftcardtext:"eGift Card",egiftGetcode:"Get Code",egiftCardInputTitle:"eGift Card Number",cashOnDeliveryLabel:"Cash on delivery service charge",egiftCardInputPlaceholder:"Enter verification code",discountTooltipMessageApplied:"Discount applied",discountTooltipMessageMemberDiscount:"Member Discount",discountTooltipMessageAdvantageCardDiscount:"Advantage Card Discount",memberOffersApplied:"Member offers applied",bonusVouchersApplied:"Bonus voucher applied",bonusVouchersExpiresOn:"Expires on",bonusVoucherAppliedLabel:"voucher applied",paymentMethodsTitle:"Payment Methods",availableinstorewithin:"Available Instore Within:",collectionBy:"Collection by.",freeGiftLabel:"Free Gift with Purchase",completePurchaseButton:"Complete Purchase",completePurchaseCheckbox:"Be the first to hear about our latest offers and promotions via email and sms.",invalidCvvText:"Invalid security code (CVV)",requiredCvvText:"Please enter your CVV.",inValidCardNumberText:"Invalid Debit / Credit Card number",requiredCardNumberText:"Please enter your card number.",requiredExpiryText:"Please enter your Expiry.",incorrectExpiryText:"Incorrect credit card expiration date",mapCollectionStore:"Collection Store...",mapCollectionDetails:"Collection details",mapLocationAccessDenied:"Test Message...Access to your location access has been denied by your browser. You can reenable location services in your browser settings",mapOutsideCountryErrorTitle:"You are browsing outside Kuwait..",mapOutsideCountryErrorSubtext:"Test We currently dont offer delivery outside Kuwait. Please enter an address within Kuwait below to proceed.Please select a store with in country Qatar below to continue",mapDismissBtn:"Dismiss..",mapFindNearestStore:"Find Your Nearest Store..",mapExampleDoha:"eg. Doha Test",mapListView:"List view",mapMapView:"Map view",mapMiles:"miles",cncMapKms:"Km",mapContinueBtn:"CONTINUE..",mapSelectStoreBtn:"SELECT THIS STORE..",mapCollectFromStore:"Collect in store from",mapSelectedStore:"Selected Store..",mapContactInfo:"Contact Information..",mapInTouchText:"We will send you a text message once your order is ready for collection...",mapEnterFullname:"Please enter your full name...",mapMobileNumber:"Mobile Number..",mapValidNumber:"Please enter valid mobile number...",mapChangeBtn:"Change...",mapCollectionBy:"Collection by...",mapEditBtn:"Edit..",mapFullName:"Full Name..",mapEmailError:"Please enter valid email.",mapNoLocation:"Sorry, No store found for your location.",mapEmail:"Email",saveCardText:"Save this card for faster payment next time you shop. (CVV number will not be saved)",cardNumberText:"Card Number",expiryText:"Expiry",cvvText:"CVV",changeText:"Change",paymentModalTitle:"Change payment card",addNewCardBtnTitle:"Add new card",selectedText:"Selected",selectText:"Select",amountpaid:"Amount Paid",auraPointsRedeemed:"Aura points redeemed:",collectionStore:"Collection Store",earnedAurapointTooltipText:"Your points will be credited to your Aura account. You will be able to redeem these a day after your order is delivered.",paidbyaurapoints:"Paid With Aura",egiftCardAmountText:"Applied card amount -",egiftCardBalanceText:"Remaining Balance -",changeAddressModalTitle:"Change Address",addNewAddress:"Add New Address",addressSelectButton:"Select",addressSelectedButton:"Selected",transactionId:"Transaction ID:",orderSuccessfullyReceived:"Order successfully received",egiftAmountText:"Amount",egictCardNoOtpText:"Didn't receive?",egiftCardResendOtp:"Resend Code",egiftCardChangeCard:"Change Card?",egiftCardRemove:"Remove",egiftCardVerify:"Verify",egiftCardEditAmount:"Edit amount to use",egiftCardPopupButton:"Edit Amount",deliveryLabel:"Delivery",paidWithAuraLabel:"Paid with Aura",balancePaymentLabel:"Balance Payment",billingAddressTitle:"Billing Address",getdirections:"Get Directions",emailExist:"You already have an account. Please log in.",exponeaQuestion:"How would you rate your shopping experience?",billingInformationModalTitle:"Billing Information",loyaltyTitle:"Loyalty",enterAuraDetails:"Enter Aura details",enterAuraDetailsToolTip:"Add your mobile number, Aura account number or email address below to link this purchase.",auraMobileLabel:"Mobile Number",auraAccountNumberLabel:"Aura account number",auraEmailLabel:"Email address",codSurchargeText:"Additional {{SURCHARGE}} Service Charge",codEnterOtpTitle:"Enter the 4-digit OTP code sent to {{TELEPHONE}}",codChangeTelephoneCta:"Change",codEditTelephoneCta:"Edit",codResendOtpCta:"Resend",codResendOtpText:"Didn't receive the code?",codVerifyOtpCta:"Verify",codVerifiedText:"Verified",codOtpResendTimeInSeconds:"60",globalKey:"global-txt",codMobileUpdateInfoText:"Please update mobile number",codErrorWrongOtp:"Wrong OTP",globalDefaultErrorMessage:"Sorry, something went wrong and we are unable to process your request right now. Please try again later.",transactionFailedText:"Transaction Failed: Invalid CVV",deliveryInformationMissingText:"Delivery Information is incomplete. Please update and try again.",outOfStockErrorText:"Cart contains some items which are not in stock.",loyaltyHelloMemberTooltipText:"The total points you will earn on this purchase will be displayed on the Order Confirmation page after applying all discounts and taxes.",loyaltyHelloMemberDialogTitle:"Switch to H&M member",loyaltyHelloMemberDialogContent:"This purchase will accumulate points earned towards your H&M Membership",loyaltyHelloMemberDialogPrimaryBtnText:"Earn H&M points",loyaltyHelloMemberDialogSecondaryBtnText:"Continue with Aura Points",loyaltyAuraDialogTitle:"Switch to Aura points",loyaltyAuraDialogContent:"This purchase will accumulate points earned towards your Aura Membership",loyaltyAuraDialogPrimaryBtnText:"Earn Aura points",loyaltyAuraDialogSecondaryBtnText:"Continue with H&M Points",storeLabel:"H&M Qatar",redeemInputErrorText:"Redeem amount should be less than or equal to the balance payable.",redeemOtpErrorText:"OTP verification failed. Please enter a valid OTP",redeeEgiftInvalidCard:"enter a valid card number",redeemEmptyCardNumberError:"Please enter an eGift card number.",redeemeOtpEmptyError:"Please enter verification code.",amountToPayAfterRedeem:"Pay {{BALANCEPAY}} using another payment method to complete purchase",redeemPayOrderSummary:"Paid With eGift Card",formEgiftAmount:"Please enter the amount.",egiftInsufficientBalance:"Insufficient balance, Please topup the card or lower the redeem amount.",egiftValidAmount:"Please enter a valid amount",redeemEgiftError:"Redeem amount should be less than or equal to the balance payable",redeemEgiftFullError:"You can only redeem full pending balance or use other payment method.",submitText:"Submit",printConfirmationText:"Print Confirmation",egiftCardTo:"eGift Card To:",eGiftCardWillBeSentImmediately:"eGift card will be sent immediately",tabbyCtaBtn:"Continue with tabby",bnplPaymentLabel:"Pay in interest-free installments",continueWithTamara:"Continue with Tamara",removeFromBag:"Remove from bag",fawryAmountDue:"Amount Due:",fawryReferenceNumber:"Reference Number:",fawryCompletePaymentBy:"Complete Payment By:",paymentErrorText:"Sorry, we are unable to process your payment. Please contact our customer service team for assistance.",removedFromBag:"Removed from Bag",removeCartMessage:"Would you like to move it to your favorites instead for later consideration?",removeCartTitle:"Remove Item?",removing:"Removing",moving:"Moving",ariaLabelDeleteBtn:"delete button",ariaLabelClose:"close",partialProductQty:"Please update quantity",quantityNotAvailableTxt:"Quantity not available",oosTextError:"Out of stock",secureCheckout:"SECURE CHECKOUT",exclusiveDeliveryText:"(Excl. delivery)",totalText:"Total",cartProductCardRemoveItemPrefixError:"Please remove item",cartProductCardRemoveItemPrefix:"Remove",deliveryInfoEmptyMessage:"Please add an address to view delivery options",placeOrderButton:"Place order",deliveryOptionTitle:"Delivery Option",auraBannerUserMessage:"Hi X, you are earning Aura points and saving through Aura Price.",auraInfoAboutRegistration:"To redeem points, complete your registration on the Aura MENA app",auraInfoGuest:"Earn points on this purchase, unlock offers, get Aura price and more",auraLinkNow:"Link Aura Account",auraJoinNow:"Join now",clickCollectInfo:"Please select a collection point",collectionWithinTxt:"Collection with in",collectionPointTitleV2:"Collection Points",quantityText:"Qty",pointsExpiryText:"points will expire by",saveCollectionContactInfo:"SAVE",editContactInfoModalTitle:"Edit Contact Information",accountToLink:"Account to link",auraSaveLabel:"Save",auraEarn:"Earn",auraPoints:"Points",auraMemberText:"You will be getting <span>Free Delivery</span> as an x member",cartAuraClmDowtimeText:"Aura is offline to refresh and enhance your experience and will be back soon.",auraSignIn:"Login",auraStandardDeliveryText:"Aura Free Delivery within 1 - 4 days",auraEarned:"Earned",auraRedeemed:"Redeemed",auraSaved:"Saved",auraCreditText:"Your points will be credited to your Aura account. You will be able to redeem them a day after your order",mobileIsReqText:"Mobile number is required.",joinAuraText:"Join Aura to collect your Aura points on this purchase and unlock offers and more.",joinAuraOtpText:"Well just verify your mobile number by sending a One Time Password (OTP) to:",auraMobileNumber:"Mobile number",completeRegistration:"Complete Registration",registerLinkAuraCtaText:"Register & LINK AURA",otpSentText:"We have sent an OTP to",otpPlaceholder:"Enter OTP",verifyButtonText:"Verify",otpEmptyError:"Please enter OTP",otpWrongError:"Please enter correct OTP",addressGenericErrorMsg:"This address doesn't contain all the required information, please update it.",linkAuraLabel:"Link your Aura",collectAuraPointsLabel:"Collect your Aura points on this purchase within 24 hours",pleaseLinkAuraLabel:", please Link your Aura account",auraPriceLabel:"Aura Price",auraDiscountLabel:"Discount",auraGuestNotLinkedText:"Link your aura account X to collect your Aura points on this purchase and unlock offers and more.",otpSentTextToast:"OTP sent successfully",otpMaxLimitReached:"Maximum number of attempts reached. Please try after sometime.",availableText:"available"},p={isLoggedIn:!1,cart:{cartId:null,data:{},isLoading:!1,isError:!1,oosDisable:!1,isCheckoutFlag:!0,checkoutDisable:!1,reserved_order_id:null},promotion:{isApplyingPromoCode:!1,isRemovingPromoCode:!1,errorMessage:"",data:{}},activeProgressStep:1,store:null,deliveryInformation:{isDialogOpen:!1,isModalVisible:!1,isLoadingShippingMethods:!1,shippingMethods:[],changeAddress:"",updateOnlyTelephone:!1,infoMessage:""},userAddressList:null,editAddress:{},selectedCollectionStore:null,selectedCollectionStoreForCheckout:null,cAndCInfo:null,isMapDetailsView:!1,isCollectionDetails:!1,methods:[],isHideSection:!1,deliveryFeeLoader:!1,cardAppliedAmount:null,paymentMethodsContinuePurchaseLabels:[],fullPaymentByEgift:!1,reactBridgeLoaded:!1,lastOrderDetailsLoaded:!1,lastOrderDetails:null,cncCollectionPointsEnabled:!1,isTabbyAvailable:!1,tabbyConfig:{},tabby:{config:{},isAvailable:!1,loading:!0},bnplOptions:[],isAccordionOpen:!0,brandName:"",shouldEnableProductCardV2:!1,shouldEnableEmptyCartBagV2:!1,shouldEnableCartOrderSummaryV2:!1,shouldEnableDynamicPromoLabels:!1,BBwPromotionalSection:!1,configs:{},bbwVoucherApply:"",cartBnplPayments:[],cartTamaraAvailable:!1,auraOffers:{},isBNPLAllowed:!1,isTelephoneInShipping:!1,isInvalidAddress:!1},_=(0,r.createContext)(p);function b(e){const[t,a]=(0,r.useState)(p.cart),[n,u]=(0,r.useState)(!!(0,i.o)()),[m,b]=(0,r.useState)(p.reactBridgeLoaded),[h,E]=(0,r.useState)(p.cart.cartId),[y,g]=(0,r.useState)(e?.placeholders),[f,A]=(0,r.useState)(p.activeProgressStep),[v,T]=(0,r.useState)(p.store),[C,w]=(0,r.useState)(p.store),[S,N]=(0,r.useState)(p.cncCollectionPointsEnabled),[I,x]=(0,r.useState)(p.promotion),[P,O]=(0,r.useState)(p.deliveryInformation),[R,D]=(0,r.useState)(p.userAddressList),[L,k]=(0,r.useState)(p.cart.oosDisable),[M,B]=(0,r.useState)(p.cart.isCheckoutFlag),[U,$]=(0,r.useState)(p.cart.editAddress),[H,G]=(0,r.useState)(p.selectedCollectionStore),[V,Y]=(0,r.useState)(p.selectedCollectionStoreForCheckout),[F,q]=(0,r.useState)(p.cAndCInfo),[j,K]=(0,r.useState)(p.isMapDetailsView),[W,J]=(0,r.useState)(p.isCollectionDetails),[Q,z]=(0,r.useState)(p.cart.checkoutDisable),[X,Z]=(0,r.useState)(p.isHideSection),[ee,te]=(0,r.useState)(p.methods),[ae,ne]=(0,r.useState)(p.deliveryFeeLoader),[re,ie]=(0,r.useState)(!1),[se,oe]=(0,r.useState)("home_delivery"),[le,ce]=(0,r.useState)(!1),[de,ue]=(0,r.useState)(!1),[me,pe]=(0,r.useState)(0),[_e,be]=(0,r.useState)(),[he,Ee]=(0,r.useState)(p.cardAppliedAmount),[ye,ge]=(0,r.useState)(p.lastOrderDetailsLoaded),[fe,Ae]=(0,r.useState)(p.lastOrderDetails),[ve,Te]=(0,r.useState)(p.paymentMethodsContinuePurchaseLabels),[Ce,we]=(0,r.useState)(p.fullPaymentByEgift),[Se,Ne]=(0,r.useState)(!1),[Ie,xe]=(0,r.useState)(),[Pe,Oe]=(0,r.useState)(!1),Re=t?.data?.items?.filter((e=>"1"!==e?.extensionAttributes?.extension_attributes?.is_egift&&!e?.extensionAttributes?.extension_attributes?.is_free_gift&&e?.extensionAttributes?.extension_attributes?.error_message)),De=t?.data?.items?.filter((e=>"1"!==e?.extensionAttributes?.extension_attributes?.is_egift&&!e?.extensionAttributes?.extension_attributes?.is_free_gift&&e?.isQuantityNotAvailable)),Le=t?.data?.items?.filter((e=>e?.extensionAttributes?.extension_attributes?.is_egift&&"1"===e?.extensionAttributes?.extension_attributes?.is_egift)),ke=t?.data?.items?.filter((e=>!e?.extensionAttributes?.extension_attributes?.is_egift)),[Me,Be]=(0,r.useState)(!1),[Ue,$e]=(0,r.useState)(null),[He,Ge]=(0,r.useState)(""),[Ve,Ye]=(0,r.useState)(p.tabby),[Fe,qe]=(0,r.useState)(p.isTabbyAvailable),[je,Ke]=(0,r.useState)(p.tabbyConfig),[We,Je]=(0,r.useState)(p.bnplOptions),[Qe,ze]=(0,r.useState)(p.isAccordionOpen),[Xe,Ze]=(0,r.useState)(p.brandName),[et,tt]=(0,r.useState)(p.shouldEnableProductCardV2),[at,nt]=(0,r.useState)(p.shouldEnableDynamicPromoLabels),[rt,it]=(0,r.useState)(p.shouldEnableEmptyCartBagV2),[st,ot]=(0,r.useState)(p.shouldEnableCartOrderSummaryV2),[lt,ct]=(0,r.useState)(p.BBwPromotionalSection),[dt,ut]=(0,r.useState)(p.configs),mt=t?.data?.extension_attributes?.cart?.items?.filter((e=>1===Number(e?.extension_attributes?.is_topup))),[pt,_t]=(0,r.useState)(p.bbwVoucherApply),[bt,ht]=(0,r.useState)(!1),[Et,yt]=(0,r.useState)(p.isBNPLAllowed),[gt,ft]=(0,r.useState)(window.innerWidth<768),[At,vt]=(0,r.useState)(p.isTelephoneInShipping),[Tt,Ct]=(0,r.useState)(p.cartBnplPayments),[wt,St]=(0,r.useState)(p.cartTamaraAvailable),[Nt,It]=(0,r.useState)(p.isInvalidAddress),xt=e?.content,[Pt,Ot]=(0,r.useState)(!1),[Rt,Dt]=(0,r.useState)(p.auraOffers),[Lt,kt]=(0,r.useState)(),[Mt,Bt]=(0,r.useState)({});(0,r.useEffect)((()=>{window.addEventListener("reactBridgeLoaded",(async e=>{b(!0)}));window.addEventListener("resize",(()=>{ft(window.innerWidth<768)}))}),[]),(0,r.useEffect)((()=>{Be(!!mt?.length)}),[mt,t]),(0,r.useEffect)((()=>{switch(window.location.pathname){case`/${document.documentElement.lang}/cart`:A(l.A.PROGRESS_BAR_STEP_CART);break;case`/${document.documentElement.lang}/cart/login`:if(n){window.location.assign(`/${document.documentElement.lang}/checkout`);break}window.location.search!==`?redirect=/${document.documentElement.lang}/checkout`&&window.location.assign(`/${document.documentElement.lang}/cart/login?redirect=/${document.documentElement.lang}/checkout`),A(l.A.PROGRESS_BAR_STEP_LOGIN);break;case`/${document.documentElement.lang}/checkout`:A(l.A.PROGRESS_BAR_STEP_CHECKOUT);break;case`/${document.documentElement.lang}/confirmation`:A(l.A.PROGRESS_BAR_STEP_CONFIRMATION);break;default:A(l.A.PROGRESS_BAR_STEP_CART)}}),[n]),(0,r.useEffect)((()=>{g(e?.placeholders)}),[e?.placeholders]),(0,r.useEffect)((()=>{u(!!(0,i.o)())}),[i.o]),(0,r.useEffect)((()=>{const e=(0,s.J)("M2_VENIA_BROWSER_PERSISTENCE__cartId");E(e)}),[]),(0,r.useEffect)((()=>{(async()=>{const e=await(0,o.T$)(),t=await(0,o.Ct)("cart-price-decimals"),a=await(0,o.Ct)("cart-show-free-returns"),n=await(0,o.Ct)("cnc-collection-points-enabled"),r=await(0,o.Ct)("brand"),i=await(0,o.Ct)("cart-enable-product-card-v2"),s=await(0,o.Ct)("enable-empty-cart-page-v2"),l=await(0,o.Ct)("cart-enable-order-summary-v2"),c=await(0,o.Ct)("bbw-promotional-section"),d=await(0,o.Ct)("cart-dynamic-promo-labels-v2"),u=await(0,o.Ct)("bbw-voucher-enabled"),m=await(0,o.Ct)("cart-free-delivery-block");ut(e??p.configs),T(t),w("true"===a),ct("true"===c),N("true"===n),Ze(r),tt("true"===i),nt("true"===d),it("true"===s),ot("true"===l),ht("true"===u),Ot(m)})()}),[]),(0,r.useEffect)((()=>{k(Re?.length>0||De?.length>0||!M)}),[t,L,M]),(0,r.useEffect)((()=>{Le?.length>0&&Z(!(ke?.length>0))}),[t,X,ke,Le]);const Ut=t?.data?.extension_attributes?.cart?.billing_address,$t=P?.shippingMethods,Ht=t?.data?.extension_attributes?.totals?.total_segments;(0,r.useEffect)((()=>{let e=!1,a=!1;X?a=!Ut?.firstname:("home_delivery"===se?(e=!$t?.length,a=e):(e=!H,a=e),Ut?.firstname&&$t?.length>0&&(a=!1)),1===t?.data?.extension_attributes?.cart?.items?.length&&"1"===t.data.extension_attributes.cart.items[0]?.extension_attributes?.is_topup&&(e=!1,a=!Ut?.firstname);const n=Ht?.find((e=>e.code===l.A.REDEEM_PAYMENT_METHOD_CODE));if(n){const t=n?.value,a=Ht?.find((e=>e.code===l.A.GRAND_TOTAL_METHOD_CODE))?.value,r=t===a;e=r,Oe(r)}ce(e),ue(a)}),[P,H,se,X,Ut,Ht]),(0,r.useEffect)((()=>{(async()=>{const e=await(0,o.Ct)("cart-bnpl-options"),t=e?.split(",")?.map((e=>e?.trim()));yt(!!t?.length)})()}),[]);const Gt=(e={})=>{const t={...e};return delete t?.parent_id,delete t?.entity_id,t?.extension_attributes&&(t.custom_attributes=Object.keys(t?.extension_attributes).map((e=>({attribute_code:e,value:t.extension_attributes[e],name:e}))),delete t.extension_attributes),t},Vt=async(e,t,a)=>{const{address:n,carrier_code:r,method_code:i,store_code:s,click_and_collect_type:o}=e,l={shipping:{shipping_address:n,shipping_carrier_code:r,shipping_method_code:i,...s&&{extension_attributes:{store_code:s,click_and_collect_type:o}}},extension:{action:"update shipping"}};return await(0,c.A)(l,t,a)},Yt=async(e,t,a)=>{const n={billing:e,extension:{action:"update billing"}},r=await(0,c.A)(n,t,a);return r?.cart?.billing_address||""},Ft=(e,t)=>{const a={...e.find((e=>!0===e[`default_${t}`]))||e[0]};return delete a?.customer_id,delete a?.default_billing,delete a?.default_shipping,delete a?.region,delete a?.region_id,a.customer_address_id=a?.id,delete a?.id,a};(0,r.useEffect)((()=>{Me?ge(!0):async function(){if(window.location.href.includes("/checkout")){const{id:e,extension_attributes:r}=t?.data||{},i=r?.cart?.extension_attributes?.shipping_assignments?.[0]?.shipping;if(n&&!i?.method&&e&&R&&!ye){const e=async e=>{const{extension_attributes:r}=t?.data||{},i=r?.cart?.extension_attributes?.shipping_assignments?.[0]?.shipping,{firstname:s}=i?.address||{},o=e?.detail?.response;if(o?.extension_attributes?.shipping_assignments?.[0]?.shipping?.address?.firstname&&o?.extension_attributes?.shipping_assignments?.[0]?.shipping?.method){Ae(o);const{address:e,method:t,extension_attributes:r}=o?.extension_attributes?.shipping_assignments?.[0]?.shipping;if(e?.firstname&&t){let i=null,s=null,o=[];const c=t===`${l.A.SHIPPING_METHODS.CLICK_AND_COLLECT}_${l.A.SHIPPING_METHODS.CLICK_AND_COLLECT}`;if(c)i=l.A.SHIPPING_METHODS.CLICK_AND_COLLECT,s=l.A.SHIPPING_METHODS.CLICK_AND_COLLECT;else if(-1!==t.indexOf(l.A.SHIPPING_METHODS.ALSHAYA_DELIVERY)){i=l.A.SHIPPING_METHODS.ALSHAYA_DELIVERY,s=t.split(`${l.A.SHIPPING_METHODS.ALSHAYA_DELIVERY}_`)[1];const a={address:Gt(e)};O((e=>({...e,isLoadingShippingMethods:!0,payload:a})));const r=await(0,d.A)(a,h,n);O((e=>({...e,shippingMethods:r??[],isLoadingShippingMethods:!1}))),r?.length&&(o=r.filter((e=>e?.available&&e?.carrier_code===i&&e?.method_code===s)))}if(i&&s){const t={address:Gt(e),carrier_code:i,method_code:s,...c&&{store_code:r?.store_code,click_and_collect_type:r?.click_and_collect_type}};if(o?.length||c){const e=await Vt(t,h,n);a((t=>({...t,data:{...t.data,extension_attributes:{...t.data.extension_attributes,cart:{...t.data.extension_attributes.cart,extension_attributes:{...t.data.extension_attributes.cart.extension_attributes,shipping_assignments:e?.cart?.extension_attributes?.shipping_assignments||[]}},totals:e?.totals}}})))}}}if(o?.billing_address){const e=await Yt(o.billing_address,h,n);a((t=>({...t,data:{...t.data,extension_attributes:{...t.data.extension_attributes,cart:{...t.data.extension_attributes.cart,billing_address:e}}}})))}}else if((!i?.address?.firstname||!i?.method)&&R?.length){const e=Ft(R,"shipping"),t=Ft(R,"billing");if(Object.keys(e).length){const t={address:Gt(e)};O((e=>({...e,isLoadingShippingMethods:!0,payload:t})));const r=await(0,d.A)(t,h,n);if(O((e=>({...e,shippingMethods:r??[],isLoadingShippingMethods:!1}))),r?.[0]){const t=r?.[0];if(t?.carrier_code&&t?.method_code){const r={address:Gt(e),carrier_code:t?.carrier_code,method_code:t?.method_code},i=await Vt(r,h,n);a((e=>({...e,data:{...e.data,extension_attributes:{...e.data.extension_attributes,cart:{...e.data.extension_attributes.cart,extension_attributes:{...e.data.extension_attributes.cart.extension_attributes,shipping_assignments:i?.cart?.extension_attributes?.shipping_assignments}},totals:i?.totals}}})))}}}if(Object.keys(t).length){const e=await Yt(t,h,n);a((t=>({...t,data:{...t.data,extension_attributes:{...t.data.extension_attributes,cart:{...t.data.extension_attributes.cart,billing_address:e}}}})))}}ge(!0)};window.addEventListener("react:getCustomerLastOrderResult",e),window.dispatchEvent(new CustomEvent("react:getCustomerLastOrder"))}const s=t?.data?.extension_attributes?.cart?.items?.every((e=>"1"===e.extension_attributes.is_egift));(!n||i?.method||s)&&ge(!0)}}()}),[n,R,t,Me,ye]);return r.createElement(_.Provider,{value:{isLoggedIn:n,cartId:h,cart:t,setCart:a,placeholders:y,activeProgressStep:f,setActiveProgressStep:A,priceDecimals:v,promotion:I,setPromotion:x,deliveryInformation:P,setDeliveryInformation:O,userAddressList:R,setUserAddressList:D,cartShowFreeReturns:C,oosDisableButton:L,setOOSDisableButton:k,setIsCheckoutFlag:B,isCheckoutFlag:M,editAddress:U,setEditAddress:$,selectedCollectionStore:H,setSelectedCollectionStore:G,selectedCollectionStoreForCheckout:V,setSelectedCollectionStoreForCheckout:Y,cAndCInfo:F,setCAndCInfo:q,methods:ee,setMethods:te,isMapDetailsView:j,setIsMapDetailsView:K,isCollectionDetails:W,setIsCollectionDetails:J,setCheckoutOOSDisable:z,checkoutOOSDisable:Q,isHideSectionInCheckout:X,setDeliveryFeeLoader:ne,deliveryFeeLoader:ae,isComplePurchaseLoading:re,setCompletePurchaseLoading:ie,selectedMethod:se,setSelectedMethod:oe,isDisablePayment:le,setDisablePayment:ce,isDisablePurchaseBtn:de,setSalesPoints:pe,salesPoints:me,cardAppliedAmount:he,setCardAppliedAmount:Ee,paymentMethodsContinuePurchaseLabels:ve,setPaymentMethodsContinuePurchaseLabels:Te,fullPaymentByEgift:Ce,setFullPaymentByEgift:we,reactBridgeLoaded:m,setReactBridgeLoaded:b,isTopupFlag:Me,isTamaraAvailable:Se,setTamaraAvailable:Ne,lastOrderDetailsLoaded:ye,setlastOrderDetailsLoaded:ge,lastOrderDetails:fe,setlastOrderDetails:Ae,fullPaymentUsingAura:Pe,setFullPaymentUsingAura:Oe,content:xt,tabby:Ve,updateTabby:e=>{Ye({...Ve,...e})},selectedPaymentMethod:Ie,setSelectedPaymentMethod:xe,cncCollectionPointsEnabled:S,isTabbyAvailable:Fe,setIsTabbyAvailable:qe,tabbyConfig:je,setTabbyConfig:Ke,areaItems:Ue,setAreaItems:$e,showAddressForm:_e,setShowAddressForm:be,setBnplActiveOptions:Je,bnplActiveOptions:We,setIsAccordionOpen:ze,isAccordionOpen:Qe,brandName:Xe,shouldEnableProductCardV2:et,shouldEnableDynamicPromoLabels:at,shouldEnableEmptyCartBagV2:rt,shouldEnableCartOrderSummaryV2:st,bbwPromotionalSection:lt,configs:dt,toastErrorMessage:He,setToastErrorMessage:Ge,outOfStockData:Re,bbwVoucherApply:pt,setBBWVoucherApply:_t,isBBWVoucherEnabled:bt,isMobile:gt,showDeliveryEligibility:Pt,setCartBnplPayments:Ct,cartBnplPayments:Tt,cartTamaraAvailable:wt,setCartTamaraAvailable:St,auraOffers:Rt,setAuraOffers:Dt,couponCode:Lt,setCouponCode:kt,isBNPLAllowed:Et,isTelephoneInShipping:At,setIsTelephoneInShipping:vt,isInvalidAddress:Nt,setIsInvalidAddress:It,auraAccountData:Mt,setAuraAccountData:Bt}},e?.children)}const h=_;n()}catch(E){n(E)}}))},2953:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(6540),r=a(7091);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const s=function({label:e,value:t,containerClassName:a,inputClassName:s,errorMessage:o,icon:l,onIconClick:c,...d}){return n.createElement("div",{className:`form-input__container ${a??""}`},n.createElement("input",i({className:`form-input ${s??""}`,value:t},d)),l&&n.createElement(r.A,{name:l,className:"form-input__icon-container",onIconClick:c}),e?n.createElement("label",{className:""+(t?.length?"active":"")},e):null,o?n.createElement("span",{className:"error_message"},o):null)}},7091:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(6540),r=a(9364);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(this,arguments)}const s=function({name:e,id:t,className:a,onIconClick:s}){const o=(0,n.useRef)();return(0,n.useEffect)((()=>{o?.current&&(0,r.decorateIcons)(o.current)}),[]),n.createElement("div",i({ref:o,className:`d-flex icon-container ${a??""}`},t?{id:t}:{}),n.createElement("span",i({},s?{onClick:s}:{},{className:`icon icon-${e}`})))}},1587:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(6540);const r=function({content:e,children:t}){const[a,r]=(0,n.useState)(!1);return n.createElement("div",{className:"tooltip-container",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1)},a&&n.createElement("div",{className:"tooltip-content",dangerouslySetInnerHTML:{__html:e}}),t)}},4817:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>c});var r=a(6540),i=a(3795),s=a(1332),o=e([i,s]);function l({showProgressBar:e=!0,shouldDisableAllSteps:t=!1,children:a}){const{cartId:n,cart:o}=(0,r.useContext)(s.Ay),l=document.querySelector(".scroll-to-top");return l&&l.remove(),r.createElement(r.Fragment,null,e?r.createElement(i.A,{shouldDisableAllSteps:t}):null,a)}[i,s]=o.then?(await o)():o;const c=l;n()}catch(d){n(d)}}))},3275:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(6540),r=a(9364);const i=function(){const e=(0,n.useRef)(null);return(0,n.useEffect)((()=>{e.current&&(0,r.decorateIcons)(e.current)}),[]),n.createElement("div",{className:"loading-spinner",ref:e},n.createElement("span",{className:"icon icon-ic-loader"}))}},3795:(e,t,a)=>{a.a(e,(async(e,n)=>{try{a.d(t,{A:()=>d});var r=a(6540),i=a(1332),s=a(7091),o=e([i]);i=(o.then?(await o)():o)[0];const l=(e,t)=>{const a=[];return t===e.id&&a.push("active"),e.isClickable&&e.id!==t&&a.push("clickable"),e.id<t&&a.push("completed"),a};function c({shouldDisableAllSteps:e=!1}){const{activeProgressStep:t,placeholders:a,isLoggedIn:n,configs:o}=(0,r.useContext)(i.Ay),c="true"===o["show-order-confirmation-progress-bar-tick-mark"],d=`cart/login?redirect=/${document.documentElement.lang}/checkout`,u=[{id:1,label:a?.bagLabel,isClickable:!e,url:`/${document.documentElement.lang}/cart`},{id:2,label:a?.signInLabel,isClickable:!(e||n&&3===t),url:`/${document.documentElement.lang}/${n?"checkout":d}`},{id:3,label:a?.deliveryPaymentLabel,isClickable:!e&&n,url:`/${document.documentElement.lang}/checkout`},{id:4,label:a?.confirmationLabel,isClickable:!1}],m=e=>e<t||c&&4===t?r.createElement(s.A,{name:"tick-complete"}):e;return r.createElement("div",{className:"progress__bar-container"},u.map((e=>r.createElement("div",{key:e.id,className:`progress__bar-item ${l(e,t).join(" ")}`},r.createElement("div",{className:"progress__bar-item-number"},r.createElement("div",{className:"progress__bar-item-number-wrapper"},e.isClickable&&e.id!==t?r.createElement("a",{className:"progress__bar-item-number-div",href:e.url},r.createElement("div",{className:"progress__bar-item-check-wrapper"},m(e.id))):r.createElement("div",{className:"progress__bar-item-number-div"},r.createElement("div",{className:"progress__bar-item-check-wrapper"},m(e.id))))),r.createElement("div",{className:"progress__bar-item-label-wrapper"},e.isClickable&&e.id!==t?r.createElement("a",{className:"progress__bar-item-label",href:e.url},e.label):r.createElement("div",{className:"progress__bar-item-label"},e.label))))))}const d=c;n()}catch(u){n(u)}}))},2554:(e,t,a)=>{a.d(t,{Ay:()=>c,HA:()=>d,qB:()=>u});var n=a(220),r=a(8800),i=a(7443),s=a(2768);const o="web";function l(){const e=window.location.href;return e.includes("/cart")?"cart":e.includes("/checkout")?"checkout":""}async function c(e,t=!1,a="GET",i=null,s="V1",l=!1,c){let d=null;try{const c={method:a,headers:{"Content-Type":"application/json",Store:await(0,r.Ct)("commerce-store-view-code"),"Alshaya-Channel":o}};if(t){const e=(0,n.o)();e&&(c.headers.Authorization=`Bearer ${e}`)}!i||"POST"!==a&&"PUT"!==a||(c.body=JSON.stringify(i));const u=await(0,r.Ct)("commerce-rest-endpoint"),m=await(0,r.Ct)("commerce-store-view-code"),p=await fetch(`${u}/${m}/${s}/${e}`,c);if(401===p.status){const e=`/${document.documentElement.lang||"en"}/cart`;return void window.dispatchEvent(new CustomEvent("react:logout",{detail:{redirectUrl:e}}))}d=l?{success:!!p.ok,status:p.status,message:p.statusText,data:await p.json()}:await p.json(),d.data?.message&&(d.message=d.data.message)}catch(e){console.error(e)}return{response:d}}async function d(e,t={},a=!1,c){let d=null;try{const u=(0,n.o)();let m={"Content-Type":"application/json",Store:await(0,r.Ct)("commerce-store-view-code"),"Alshaya-Channel":o,"Alshaya-Page-Identifier":l(),"Alshaya-Country-Code":await(0,r.Ct)("country-code"),"Alshaya-Brand":await(0,r.Ct)("brand"),"Alshaya-Market":await(0,r.Ct)("apimesh-market"),...u?{Authorization:`Bearer ${u}`}:{}};(0,i.j)()&&(m={...m,"Alshaya-Digital-Cart-Id":(0,i.j)()}),c&&(m={...m,...c});const p={method:"POST",headers:m,body:JSON.stringify({query:e,variables:t})},_=a?await(0,r.Ct)("cart-mesh-endpoint"):await(0,r.Ct)("commerce-endpoint"),b=await fetch(_,p);if(d=await b.json(),d?.errors?.[0]?.extensions?.category===s.A.GRAPHQL_AUTHORIZATION){const e=`/${document.documentElement.lang||"en"}/cart`;window.dispatchEvent(new CustomEvent("react:logout",{detail:{redirectUrl:e}}))}}catch(e){console.error(e)}return{response:d}}async function u(e,t=null,a="POST",n){let i=null;try{const s={method:a,headers:{"Content-Type":"application/json",Store:await(0,r.Ct)("commerce-store-view-code"),"Alshaya-Channel":o,...n?{Authorization:`Bearer ${n}`}:{}}};!t||"POST"!==a&&"PUT"!==a||(s.body=JSON.stringify(t));const l=await(0,r.Ct)("commerce-base-endpoint"),c=await fetch(`${l}/${e}`,s);i=await c.json(),c.data?.message&&(i.message=c.data.message)}catch(e){console.error(e)}return{response:i}}},2768:(e,t,a)=>{a.d(t,{A:()=>n});const n={GRAPHQL_AUTHORIZATION:"graphql-authorization",PROGRESS_BAR_STEP_CART:1,PROGRESS_BAR_STEP_LOGIN:2,PROGRESS_BAR_STEP_CHECKOUT:3,PROGRESS_BAR_STEP_CONFIRMATION:4,PAYMENT_METHOD_CODE_COD:"cashondelivery",PAYMENT_METHOD_CODE_CC:"checkout_com_upapi",REDEEM_PAYMENT_METHOD_CODE:"aura_payment",BALANCE_PAYMENT_METHOD_CODE:"balance_payable",GRAND_TOTAL_METHOD_CODE:"grand_total",PAYMENT_METHOD_CODE_APPLEPAY:"checkout_com_upapi_applepay",PAYMENT_METHOD_CODE_TAMARA:"tamara",PAYMENT_METHOD_APPLEPAY_TYPE:"applepay",PAYMENT_METHOD_TABBY:"tabby",PAYMENT_METHOD_CODE_FAWRY:"checkout_com_upapi_fawry",CHECKOUT_COMMERCE_CART_CACHE:"COMMERCE_CART_CACHE_",PAYMENT_METHOD_M2_VENIA_BROWSER_PERSISTENCE__CARTID:"M2_VENIA_BROWSER_PERSISTENCE__cartId",PAYMENT_EGIFT_CARD_GUEST:"guest",PAYMENT_EGIFT_CARD_linked:"linked",hps_payment_method:"hps_payment",LOYALTY_HM_TYPE:"hello_member",LOYALTY_AURA:"aura",GIFT_CARD_TOPUP:"giftcard_topup",LOCAL_STORAGE_KEY_DIGITAL_CART_ID:"digital-cart-id",GOVERNATE_ATTRIBUTE:"governate",KUWAIT_MARKET:"KW",SHIPPING_METHODS:{CLICK_AND_COLLECT:"click_and_collect",ALSHAYA_DELIVERY:"alshayadelivery"},OOS_TEXT:"out of stock",PRODUCT_OOS_ERROR:"OUT_OF_STOCK",PRODUCT_TYPE_SIMPLE:"commerce_SimpleProduct",BRAND_NAME_BBW:"BBW",PROMOTION_DYNAMIC_LABEL_CONTEXT:"web",APC_LINK_STATUSES:{NOT_LINKED_DATA_PRESENT:1,LINKED_VERIFIED:2,LINKED_NOT_VERIFIED:3,NOT_LINKED_DATA_NOT_PRESENT:4}}},7443:(e,t,a)=>{a.d(t,{SJ:()=>i,j:()=>s});a(9364);var n=a(8800),r=a(2768);const i=async(e,t)=>{let a=e||"";a||(a=await(0,n.Ct)("currency")||"AED"),t||0===t||(t=await(0,n.Ct)("cart-price-decimals")||2);const r=await(0,n.Ct)("country-code")||"AE";return new Intl.NumberFormat(`${document.documentElement.lang||"en"}-${r}`,{style:"currency",currency:a,numberingSystem:"latn",maximumFractionDigits:t,minimumFractionDigits:t})},s=()=>{if(window.location.pathname?.includes("/checkout")){if(sessionStorage.getItem(r.A.LOCAL_STORAGE_KEY_DIGITAL_CART_ID))return sessionStorage.getItem(r.A.LOCAL_STORAGE_KEY_DIGITAL_CART_ID)}else sessionStorage.removeItem(r.A.LOCAL_STORAGE_KEY_DIGITAL_CART_ID)}},419:(e,t,a)=>{a.d(t,{A:()=>i});var n=a(6540),r=a(7443);const i=({price:e,priceDecimals:t,currency:a})=>{const[i,s]=(0,n.useState)("");return(0,n.useEffect)((()=>{if(e&&!isNaN(Number(e))||0===e){(async()=>{const n=await(0,r.SJ)(a,t);let i=n.format(e);if(e<0&&"ar"!==document.documentElement.lang){const t=n.formatToParts(e).find((e=>"currency"===e.type)).value;i=i.replace(`-${t}`,`${t} -`)}s(i)})()}else s(e)}),[e,t,a]),i}},8584:(e,t,a)=>{a.d(t,{J:()=>r,y:()=>i});var n=a(2768);const r=e=>{let t=null;const a=window.localStorage.getItem(e);if(a)try{t=JSON.parse(a).value.replaceAll('"',"")}catch(e){console.error("Error parsing JSON from local storage",e)}return t},i=()=>{for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.includes(n.A?.CHECKOUT_COMMERCE_CART_CACHE)&&localStorage.removeItem(t)}localStorage.removeItem(n.A?.PAYMENT_METHOD_M2_VENIA_BROWSER_PERSISTENCE__CARTID)}},8172:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(9364);const r=async function(e="default",t=""){window.placeholders=window.placeholders||{};const a=e+t;return window.placeholders[a]||(window.placeholders[a]=new Promise((t=>{fetch(`${"default"===e?"":e}/placeholders-cart.json`).then((e=>e.ok?e.json():{})).then((e=>{const r={};e.data.filter((e=>e.Key)).forEach((e=>{r[(0,n.toCamelCase)(e.Key)]=e.Text})),window.placeholders[a]=r,t(window.placeholders[a])})).catch((()=>{window.placeholders[a]={},t(window.placeholders[a])}))}))),window.placeholders[a]}},220:(e,t,a)=>{a.d(t,{TV:()=>d,o:()=>l,pS:()=>o,w5:()=>u});var n=a(8800);const r="2",i="query ($categoryId: String) {\n  commerce_categories(\n    filters: { ids: { eq: $categoryId } }\n    include_in_menu: 1\n  ) {\n    items {\n        error {\n            code\n            message\n        }\n      id\n      name\n      level\n      url_path\n      nav_url_path\n      image\n      promo_id\n      banners\n      prev_prea_enabled\n      preview_sd\n      preview_ed\n      preview_category_text\n      preview_pdp_text\n      preview_tier_type\n      preview_timer\n      preaccess_sd\n      preaccess_ed\n      preaccess_category_text\n      preaccess_pdp_text\n      preaccess_tier_type\n      include_in_menu\n      breadcrumbs {\n        category_level\n        category_name\n        category_uid\n        category_url_key\n        category_url_path\n      }\n      children {\n        id\n        name\n        level\n        image\n        url_path\n        nav_url_path\n        promo_id\n        banners\n        include_in_menu\n        is_underlined\n        show_filters_shoe_size\n        target_category\n        children {\n          id\n          name\n          level\n          image\n          url_path\n          nav_url_path\n          promo_id\n          banners\n          include_in_menu\n          is_underlined\n          show_filters_shoe_size\n          target_category\n          children {\n            id\n            name\n            level\n            image\n            url_path\n            nav_url_path\n            promo_id\n            banners\n            include_in_menu\n            children {\n              id\n              name\n              level\n              image\n              url_path\n              nav_url_path\n              promo_id\n              banners\n              include_in_menu\n            }\n          }\n        }\n      }\n    }\n  }\n}",s="query ($categoryId: String) {\n  commerce_categories(\n    filters: { ids: { eq: $categoryId } }\n    include_in_menu: 1\n  ) {\n    items {\n      error {\n        code\n        message\n      }\n      id\n      name\n      level\n      url_path\n      image\n      promo_id\n      banners\n      prev_prea_enabled\n      preview_sd\n      preview_ed\n      preview_category_text\n      preview_pdp_text\n      preview_tier_type\n      preview_timer\n      preaccess_sd\n      preaccess_ed\n      preaccess_category_text\n      preaccess_pdp_text\n      preaccess_tier_type\n      include_in_menu\n      display_view_all\n      gtm_name\n      breadcrumbs {\n        category_level\n        category_name\n        category_uid\n        category_url_key\n        category_url_path\n      }\n      children {\n        id\n        name\n        level\n        image\n        url_path\n        promo_id\n        banners\n        include_in_menu\n        display_view_all\n        gtm_name\n        children {\n          id\n          name\n          level\n          image\n          url_path\n          promo_id\n          banners\n          include_in_menu\n          display_view_all\n          gtm_name\n          children {\n            id\n            name\n            level\n            image\n            url_path\n            promo_id\n            banners\n            include_in_menu\n            display_view_all\n            gtm_name\n            children {\n              id\n              name\n              level\n              image\n              url_path\n              promo_id\n              banners\n              include_in_menu\n              display_view_all\n              gtm_name\n            }\n          }\n        }\n      }\n    }\n  }\n}";async function o(e,t=!1){try{return async function(e,t=!1){const a={"Content-Type":"application/json"};t&&(a.Authorization=`Bearer ${l()}`);const n=new URL(e),r=await fetch(n,{method:"GET",headers:a}),i={success:!!r.ok,status:r.status,message:r.statusText,data:await r.json()};return i.data?.message&&(i.message=i.data.message),i}(e,t)}catch(e){return console.error("Error fetching data",e),{success:!1,message:e.message}}}function l(){return function(e){let t;return document.cookie.split(";").forEach((a=>{const[n,r]=a.trim().split("=");n===e&&(t=decodeURIComponent(r))})),t}("auth_user_token")??""}async function c(e,t,a={}){const r=await(0,n.Ct)("apimesh-endpoint"),i=await(0,n.Ct)("apimesh-endpoint-method"),s=document.documentElement.lang||"en",o=await(0,n.Ct)("apimesh-context"),c=await(0,n.Ct)("apimesh-market");Object.assign(a,{mesh_market:c,mesh_locale:s,mesh_context:o,"Magento-Website-Code":await(0,n.Ct)("commerce-website-code"),"Magento-Store-Code":await(0,n.Ct)("commerce-store-code"),"Magento-Store-View-Code":await(0,n.Ct)("commerce-store-view-code")});const d={endpoint:r,method:i??"POST",headers:a},u=await async function(e,t,a=!0,r=!1,i=null){let s=await(0,n.Ct)("commerce-endpoint");i?.endpoint&&(s=i.endpoint);const o={"Content-Type":"application/json",Store:await(0,n.Ct)("commerce-store-view-code"),...i?.headers};i?.headers&&Object.assign(o,i.headers);if(r)if("string"==typeof r)o.Authorization=`Bearer ${r}`;else{const e=l();e&&(o.Authorization=`Bearer ${e}`)}let c,d="POST";i?.method&&(d=i.method);if(a){const a=new URL(s);a.searchParams.set("query",e.replace(/(?:\r\n|\r|\n|\t|[\s]{4})/g," ").replace(/\s\s+/g," ")),a.searchParams.set("variables",JSON.stringify(t)),c=await fetch(a.toString(),{headers:o})}else c=await fetch(s,{method:d,headers:o,body:JSON.stringify({query:e.replace(/(?:\r\n|\r|\n|\t|[\s]{4})/g," ").replace(/\s\s+/g," "),variables:t})});if(!c.ok)return null;return c.json()}(e,t,!0,!1,d);return u}function d(e,t,a,n,r=!1){const i=new Date;let s="";i.setTime(i.getTime()+24*a*60*60*1e3),a>0?s=`expires=${i.toUTCString()}`:a<0&&(s="expires=Thu, 01 Jan 1970 00:00:00 UTC"),document.cookie=r?`${e}=${t};${s};path=/;domain=${n}; SameSite=None; Secure`:`${e}=${t};${s};path=/`}async function u(e=r){const t=await(0,n.Ct)("enable-shoe-size-navigation")?i:s,a=await c(t,{categoryId:e}).then((e=>e));return{items:a?.data?.commerce_categories?.items,extensions:a?.extensions}}},8800:(e,t,a)=>{a.d(t,{Ct:()=>p,T$:()=>_,mz:()=>l});const n="prod",r="stage",i="preview",s=[n,"aem","dev",i],o=[r,i];function l(){return function(){if("about:srcdoc"!==window.location.href)return window.location.href;const{location:e}=window.parent,t=new URLSearchParams(e.search);return`${e.origin}${t.get("path")}`}().includes("/ar/")?"ar":document.documentElement.lang||"en"}window.configsPromises={};function c(e,t){const a=function(){const{location:e}=window;return"about:srcdoc"===e.href?window.parent.location.origin:e.origin}(),n=t?`${t}/`:"";let r="configs.json";o.includes(e)&&(r=`configs-${e}.json`);return new URL(`${a}/${n}${r}`)}const d=(e,t)=>{const a=t?`config:${t}`:"config";return window.sessionStorage.getItem(a)},u=(e,t,a)=>{const n=a?`config:${a}`:"config";return window.sessionStorage.setItem(n,e)},m=async()=>{const e=l(),t=(()=>{const{href:e}=window.location;let t=n;e.includes(".hlx.page")||e.includes(".aem.page")?t="aem":e.includes("-stage.factory.alshayauat.com")?t=r:e.includes("localhost")?t="dev":e.includes("-eds.factory.alshayauat.com")&&(t=i);const a=window.sessionStorage.getItem("environment");return a&&s.includes(a)&&t!==n?a:t})();let a=d(),o=d(0,e);if(!a||!o){const n=fetch(c(t)),r=fetch(c(t,e));try{const t=await Promise.all([n,r]);[a,o]=await Promise.all(t.map((e=>e.text()))),u(a),u(o,0,e)}catch(e){console.error("no config loaded",e)}}const m=JSON.parse(a);if(o){JSON.parse(o).data.forEach((e=>{const t=m.data.find((t=>t.key===e.key));t?t.value=e.value:m.data.push(e)}))}return m},p=async e=>{const t=n;window.configsPromises?.[t]||(window.configsPromises[t]=m());const a=(await window.configsPromises[t]).data;return a.find((t=>t.key===e))?.value},_=async()=>{const e="prod";window.configsPromises?.[e]||(window.configsPromises[e]=m());const t={},a=await window.configsPromises[e];return a.data?.forEach((e=>{t[e.key]=e.value})),t}},3642:(e,t,a)=>{a.d(t,{_Z:()=>s});var n=a(220),r=a(8800);async function i(e,t){const a=await(0,r.Ct)("commerce-rest-endpoint");let n=`${a}/${await(0,r.Ct)("commerce-store-view-code")}/V1/${e}`;return t||(n=`${a}/V1/${e}`),n}async function s(){const e=await i("store/storeViews",!1),{data:t,success:a}=await(0,n.pS)(e);return!!a&&t}},2288:(e,t,a)=>{},6965:(e,t,a)=>{a.d(t,{EP:()=>l});const n="prod",r=[n,"stage","dev"];window.payloadPromises={};function i(){const e=window.location.href;return e.includes("/cart")?"cart":e.includes("/checkout")?"checkout":e.includes("/confirmation")?"confirmation":""}function s(){const e=function(){const{location:e}=window;return"about:srcdoc"===e.href?window.parent.location.origin:e.origin}(),t=i();return new URL(`${e}/${t}-payloads.json`)}const o=async()=>{(()=>{const{href:e}=window.location;let t="prod";(e.includes(".hlx.page")||e.includes(".aem.page"))&&(t="stage"),e.includes("localhost")&&(t="dev"),e.includes("eds.factory.alshayauat.com")&&(t="preview");const a=window.sessionStorage.getItem("environment");a&&r.includes(a)})();let e=(()=>{const e=i(),t=e?`payload:${e}`:"payload";return window.sessionStorage.getItem(t)})();if(!e){const t=fetch(s());try{const a=await Promise.all([t]);[e]=await Promise.all(a.map((e=>e.text()))),((e,t)=>{const a=i(),n=a?`payload:${a}`:"payload";window.sessionStorage.setItem(n,t)})(0,e)}catch(e){console.error("no payload config loaded",e)}}return JSON.parse(e)},l=async e=>{const t=n;window.payloadPromises?.[t]||(window.payloadPromises[t]=o());const a=(await window.payloadPromises[t]).data;return a.find((t=>t.key===e))?.value}},9364:(t,a,n)=>{t.exports=(e=>{var t={};return n.d(t,e),t})({decorateIcons:()=>e.decorateIcons,toCamelCase:()=>e.toCamelCase})}},o={};function l(e){var t=o[e];if(void 0!==t)return t.exports;var a=o[e]={exports:{}};return s[e].call(a.exports,a,a.exports,l),a.exports}l.m=s,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",a="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},l.a=(e,i,s)=>{var o;s&&((o=[]).d=-1);var l,c,d,u=new Set,m=e.exports,p=new Promise(((e,t)=>{d=t,c=e}));p[a]=m,p[t]=e=>(o&&e(o),u.forEach(e),p.catch((e=>{}))),e.exports=p,i((e=>{var i;l=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var i=[];i.d=0,e.then((e=>{s[a]=e,r(i)}),(e=>{s[n]=e,r(i)}));var s={};return s[t]=e=>e(i),s}}var o={};return o[t]=e=>{},o[a]=e,o})))(e);var s=()=>l.map((e=>{if(e[n])throw e[n];return e[a]})),c=new Promise((e=>{(i=()=>e(s)).r=0;var a=e=>e!==o&&!u.has(e)&&(u.add(e),e&&!e.d&&(i.r++,e.push(i)));l.map((e=>e[t](a)))}));return i.r?c:s()}),(e=>(e?d(p[n]=e):c(m),r(o)))),o&&o.d<0&&(o.d=0)},i=[],l.O=(e,t,a,n)=>{if(!t){var r=1/0;for(d=0;d<i.length;d++){for(var[t,a,n]=i[d],s=!0,o=0;o<t.length;o++)(!1&n||r>=n)&&Object.keys(l.O).every((e=>l.O[e](t[o])))?t.splice(o--,1):(s=!1,n<r&&(r=n));if(s){i.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=i.length;d>0&&i[d-1][2]>n;d--)i[d]=i[d-1];i[d]=[t,a,n]},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.j="order-confirmation",(()=>{var e={"order-confirmation":0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[i,s,o]=a,c=0;if(i.some((t=>0!==e[t]))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(o)var d=o(l)}for(t&&t(a);c<i.length;c++)r=i[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(d)},a=self.webpackChunk_adobe_aem_boilerplate=self.webpackChunk_adobe_aem_boilerplate||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var c=l.O(void 0,["vendor"],(()=>l(2255)));c=l.O(c);var d=(c=await c).A;export{d as default};